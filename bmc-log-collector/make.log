test -z "$(gofmt -s -l . | tee /dev/stderr)"
staticcheck ./...
test -z "$(custom-checker -restrictpkg.packages=html/template ./... 2>&1 | tee /dev/stderr)"
go vet ./...
#/home/ubuntu/go/bin/ginkgo -v --race --focus-file metrics_test.go
#/home/ubuntu/go/bin/ginkgo -v --race --focus-file machines-list_test.go
#/home/ubuntu/go/bin/ginkgo -v --race --focus-file request-to-bmc_test.go
#/home/ubuntu/go/bin/ginkgo -v --race --focus-file log-pointer_test.go
#/home/ubuntu/go/bin/ginkgo -v --race --focus-file log-collector_test.go
#/home/ubuntu/go/bin/ginkgo -v --race --focus-file main_test.go
#/home/ubuntu/go/bin/ginkgo -v --race -procs=1 .
/home/ubuntu/go/bin/ginkgo -v --race .
Running Suite: BmcLogCollector Suite - /home/ubuntu/neco-containers/bmc-log-collector
=====================================================================================
Random Seed: [1m1724205339[0m

Will run [1m41[0m of [1m41[0m specs
[38;5;243m------------------------------[0m
[0mCollecting iDRAC Logs [38;5;243mstub of main equivalent [0m[1mmain loop test[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/main_test.go:63[0m
  start BMC stub servers
accessCounter[key] 1 127.0.0.1:7280 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7280 map[] map[] <nil> map[] 127.0.0.1:34406 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc00049e000 <nil> <nil> 0xc0000d3a40 0xc000156420 [] map[]}
accessCounter[key] 1 127.0.0.1:7180 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7180 map[] map[] <nil> map[] 127.0.0.1:35844 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc00049e160 <nil> <nil> 0xc0000d3bd0 0xc000156360 [] map[]}
{"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/1","@odata.type":"#LogEntry.v1_6_1.LogEntry","Created":"2022-06-07T17:04:48-05:00","Description":"Log Entry 1","EntryCode":"Assert","EntryType":"SEL","GeneratorId":"0x0020","Id":"1","Message":"Log cleared.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"6f02ffff","Name":"Log Entry 1","SensorNumber":114,"SensorType":"Event Logging Disabled","Severity":"OK","Serial":"HN3CLP3","NodeIP":"10.69.0.7","BmcIP":"127.0.0.1:7280"}
accessCounter[key] 1 127.0.0.1:7380 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7380 map[] map[] <nil> map[] 127.0.0.1:42938 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc00049e210 <nil> <nil> 0xc0000d3cc0 0xc0001564e0 [] map[]}
{"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/1","@odata.type":"#LogEntry.v1_15_0.LogEntry","Created":"2022-08-31T09:53:17-05:00","Description":"Log Entry 1","EntryCode":"Assert","EntryType":"SEL","GeneratorId":"0x0020","Id":"1","Message":"Log cleared.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"6f02ffff","Name":"Log Entry 1","SensorNumber":114,"SensorType":"Event Logging Disabled","Severity":"OK","Serial":"683FPQ3","NodeIP":"10.69.0.6","BmcIP":"127.0.0.1:7180"}
{"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/1","@odata.type":"#LogEntry.v1_14_0.LogEntry","Created":"2023-05-25T16:10:58-05:00","Description":"Log Entry 1","EntryCode":"Assert","EntryType":"SEL","GeneratorId":"0x0020","Id":"1","Message":"Log cleared.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"6f02ffff","Name":"Log Entry 1","SensorNumber":114,"SensorType":"Event Logging Disabled","Severity":"OK","Serial":"J7N6MW3","NodeIP":"10.69.0.8","BmcIP":"127.0.0.1:7380"}
{"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/2","@odata.type":"#LogEntry.v1_14_0.LogEntry","Created":"2024-03-06T02:41:34-06:00","Description":"Log Entry 2","EntryCode":"Upper Non-critical - going high","EntryType":"SEL","GeneratorId":"0x0020","Id":"2","Message":"The system inlet temperature is greater than the upper warning threshold.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"0157a1a1","Name":"Log Entry 2","SensorNumber":5,"SensorType":"Temperature","Severity":"Warning","Serial":"J7N6MW3","NodeIP":"10.69.0.8","BmcIP":"127.0.0.1:7380"}
accessCounter[key] 2 127.0.0.1:7280 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7280 map[] map[] <nil> map[] 127.0.0.1:52732 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc0001762c0 <nil> <nil> 0xc0000d28c0 0xc000156420 [] map[]}
accessCounter[key] 2 127.0.0.1:7180 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7180 map[] map[] <nil> map[] 127.0.0.1:46298 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc000176370 <nil> <nil> 0xc0000d2a00 0xc000156360 [] map[]}
{"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/2","@odata.type":"#LogEntry.v1_6_1.LogEntry","Created":"2023-02-12T15:50:30-06:00","Description":"Log Entry 2","EntryCode":"Upper Non-critical - going high","EntryType":"SEL","GeneratorId":"0x0020","Id":"2","Message":"The system inlet temperature is greater than the upper warning threshold.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"0157a6a6","Name":"Log Entry 2","SensorNumber":5,"SensorType":"Temperature","Severity":"Warning","Serial":"HN3CLP3","NodeIP":"10.69.0.7","BmcIP":"127.0.0.1:7280"}
{"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/3","@odata.type":"#LogEntry.v1_6_1.LogEntry","Created":"2023-03-08T02:44:28-06:00","Description":"Log Entry 3","EntryCode":"Upper Non-critical - going high","EntryType":"SEL","GeneratorId":"0x0020","Id":"3","Message":"The system inlet temperature is within range.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"8157a3a6","Name":"Log Entry 3","SensorNumber":5,"SensorType":"Temperature","Severity":"OK","Serial":"HN3CLP3","NodeIP":"10.69.0.7","BmcIP":"127.0.0.1:7280"}
{"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/4","@odata.type":"#LogEntry.v1_6_1.LogEntry","Created":"2023-03-08T05:00:43-06:00","Description":"Log Entry 4","EntryCode":"Upper Non-critical - going high","EntryType":"SEL","GeneratorId":"0x0020","Id":"4","Message":"The system inlet temperature is greater than the upper warning threshold.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"0157a6a6","Name":"Log Entry 4","SensorNumber":5,"SensorType":"Temperature","Severity":"Warning","Serial":"HN3CLP3","NodeIP":"10.69.0.7","BmcIP":"127.0.0.1:7280"}
accessCounter[key] 2 127.0.0.1:7380 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7380 map[] map[] <nil> map[] 127.0.0.1:38190 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc00049e370 <nil> <nil> 0xc000100820 0xc0001564e0 [] map[]}
{"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/2","@odata.type":"#LogEntry.v1_15_0.LogEntry","Created":"2023-12-19T05:58:45-06:00","Description":"Log Entry 2","EntryCode":"Assert","EntryType":"SEL","GeneratorId":"0x0041","Id":"2","Message":"The system stopped responding because of an exception while running the operating system.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"6fa17973","Name":"Log Entry 2","SensorNumber":115,"SensorType":"OS Stop/Shutdown","Severity":"OK","Serial":"683FPQ3","NodeIP":"10.69.0.6","BmcIP":"127.0.0.1:7180"}
{"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/1","@odata.type":"#LogEntry.v1_14_0.LogEntry","Created":"2024-03-13T03:38:54-05:00","Description":"Log Entry 1","EntryCode":"Upper Non-critical - going high","EntryType":"SEL","GeneratorId":"0x0020","Id":"1","Message":"Log cleared.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"6f02ffff","Name":"Log Entry 1","SensorNumber":114,"SensorType":"Event Logging Disabled","Severity":"OK","Serial":"J7N6MW3","NodeIP":"10.69.0.8","BmcIP":"127.0.0.1:7380"}
{"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/2","@odata.type":"#LogEntry.v1_14_0.LogEntry","Created":"2024-06-05T05:58:15-05:00","Description":"Log Entry 2","EntryCode":"Upper Non-critical - going high","EntryType":"SEL","GeneratorId":"0x0020","Id":"2","Message":"The system inlet temperature is greater than the upper warning threshold.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"0157a1a1","Name":"Log Entry 2","SensorNumber":5,"SensorType":"Temperature","Severity":"Warning","Serial":"J7N6MW3","NodeIP":"10.69.0.8","BmcIP":"127.0.0.1:7380"}
[38;5;10mâ€¢ [40.011 seconds][0m
[38;5;243m------------------------------[0m
[0mCollecting iDRAC Logs [38;5;243mverify 683FPQ3 [0m[1m1st reply[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/main_test.go:91[0m
  **** Received stringJSON= {"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/1","@odata.type":"#LogEntry.v1_15_0.LogEntry","Created":"2022-08-31T09:53:17-05:00","Description":"Log Entry 1","EntryCode":"Assert","EntryType":"SEL","GeneratorId":"0x0020","Id":"1","Message":"Log cleared.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"6f02ffff","Name":"Log Entry 1","SensorNumber":114,"SensorType":"Event Logging Disabled","Severity":"OK","Serial":"683FPQ3","NodeIP":"10.69.0.6","BmcIP":"127.0.0.1:7180"}

  ---- serial =  683FPQ3
  -------- id =  1
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mCollecting iDRAC Logs [38;5;243mverify 683FPQ3 [0m[1m2nd reply[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/main_test.go:110[0m
  **** Received stringJSON= {"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/2","@odata.type":"#LogEntry.v1_15_0.LogEntry","Created":"2023-12-19T05:58:45-06:00","Description":"Log Entry 2","EntryCode":"Assert","EntryType":"SEL","GeneratorId":"0x0041","Id":"2","Message":"The system stopped responding because of an exception while running the operating system.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"6fa17973","Name":"Log Entry 2","SensorNumber":115,"SensorType":"OS Stop/Shutdown","Severity":"OK","Serial":"683FPQ3","NodeIP":"10.69.0.6","BmcIP":"127.0.0.1:7180"}

  ---- serial =  683FPQ3
  -------- id =  2
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mCollecting iDRAC Logs [38;5;243mverify HN3CLP3 [0m[1mcheck 1st log record[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/main_test.go:132[0m
  **** Received stringJSON= {"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/1","@odata.type":"#LogEntry.v1_6_1.LogEntry","Created":"2022-06-07T17:04:48-05:00","Description":"Log Entry 1","EntryCode":"Assert","EntryType":"SEL","GeneratorId":"0x0020","Id":"1","Message":"Log cleared.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"6f02ffff","Name":"Log Entry 1","SensorNumber":114,"SensorType":"Event Logging Disabled","Severity":"OK","Serial":"HN3CLP3","NodeIP":"10.69.0.7","BmcIP":"127.0.0.1:7280"}

  ------  HN3CLP3
  ------  1
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mCollecting iDRAC Logs [38;5;243mverify HN3CLP3 [0m[1mcheck 2nd log record[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/main_test.go:151[0m
  **** Received stringJSON= {"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/2","@odata.type":"#LogEntry.v1_6_1.LogEntry","Created":"2023-02-12T15:50:30-06:00","Description":"Log Entry 2","EntryCode":"Upper Non-critical - going high","EntryType":"SEL","GeneratorId":"0x0020","Id":"2","Message":"The system inlet temperature is greater than the upper warning threshold.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"0157a6a6","Name":"Log Entry 2","SensorNumber":5,"SensorType":"Temperature","Severity":"Warning","Serial":"HN3CLP3","NodeIP":"10.69.0.7","BmcIP":"127.0.0.1:7280"}

  ------  HN3CLP3
  ------  2
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mCollecting iDRAC Logs [38;5;243mverify HN3CLP3 [0m[1mcheck 3rd log record[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/main_test.go:166[0m
  **** Received stringJSON= {"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/3","@odata.type":"#LogEntry.v1_6_1.LogEntry","Created":"2023-03-08T02:44:28-06:00","Description":"Log Entry 3","EntryCode":"Upper Non-critical - going high","EntryType":"SEL","GeneratorId":"0x0020","Id":"3","Message":"The system inlet temperature is within range.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"8157a3a6","Name":"Log Entry 3","SensorNumber":5,"SensorType":"Temperature","Severity":"OK","Serial":"HN3CLP3","NodeIP":"10.69.0.7","BmcIP":"127.0.0.1:7280"}

  ------  HN3CLP3
  ------  3
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mCollecting iDRAC Logs [38;5;243mverify HN3CLP3 [0m[1mcheck 4th log record[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/main_test.go:181[0m
  **** Received stringJSON= {"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/4","@odata.type":"#LogEntry.v1_6_1.LogEntry","Created":"2023-03-08T05:00:43-06:00","Description":"Log Entry 4","EntryCode":"Upper Non-critical - going high","EntryType":"SEL","GeneratorId":"0x0020","Id":"4","Message":"The system inlet temperature is greater than the upper warning threshold.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"0157a6a6","Name":"Log Entry 4","SensorNumber":5,"SensorType":"Temperature","Severity":"Warning","Serial":"HN3CLP3","NodeIP":"10.69.0.7","BmcIP":"127.0.0.1:7280"}

  ------  HN3CLP3
  ------  4
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mCollecting iDRAC Logs [38;5;243mverify J7N6MW3 [0m[1mcheck 1st log record[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/main_test.go:203[0m
  **** Received stringJSON= {"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/1","@odata.type":"#LogEntry.v1_14_0.LogEntry","Created":"2023-05-25T16:10:58-05:00","Description":"Log Entry 1","EntryCode":"Assert","EntryType":"SEL","GeneratorId":"0x0020","Id":"1","Message":"Log cleared.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"6f02ffff","Name":"Log Entry 1","SensorNumber":114,"SensorType":"Event Logging Disabled","Severity":"OK","Serial":"J7N6MW3","NodeIP":"10.69.0.8","BmcIP":"127.0.0.1:7380"}

  ------  J7N6MW3
  ------  1
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mCollecting iDRAC Logs [38;5;243mverify J7N6MW3 [0m[1mcheck 2nd log record[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/main_test.go:222[0m
  **** Received stringJSON= {"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/2","@odata.type":"#LogEntry.v1_14_0.LogEntry","Created":"2024-03-06T02:41:34-06:00","Description":"Log Entry 2","EntryCode":"Upper Non-critical - going high","EntryType":"SEL","GeneratorId":"0x0020","Id":"2","Message":"The system inlet temperature is greater than the upper warning threshold.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"0157a1a1","Name":"Log Entry 2","SensorNumber":5,"SensorType":"Temperature","Severity":"Warning","Serial":"J7N6MW3","NodeIP":"10.69.0.8","BmcIP":"127.0.0.1:7380"}

  ------  J7N6MW3
  ------  2
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mCollecting iDRAC Logs [38;5;243mverify J7N6MW3 [0m[1mcheck 3rd log record which after SEL cleanup[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/main_test.go:237[0m
  **** Received stringJSON= {"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/1","@odata.type":"#LogEntry.v1_14_0.LogEntry","Created":"2024-03-13T03:38:54-05:00","Description":"Log Entry 1","EntryCode":"Upper Non-critical - going high","EntryType":"SEL","GeneratorId":"0x0020","Id":"1","Message":"Log cleared.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"6f02ffff","Name":"Log Entry 1","SensorNumber":114,"SensorType":"Event Logging Disabled","Severity":"OK","Serial":"J7N6MW3","NodeIP":"10.69.0.8","BmcIP":"127.0.0.1:7380"}

  ------  J7N6MW3
  ------  1
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mCollecting iDRAC Logs [38;5;243mverify J7N6MW3 [0m[1mcheck 4th log record which after SEL cleanup[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/main_test.go:252[0m
  **** Received stringJSON= {"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/2","@odata.type":"#LogEntry.v1_14_0.LogEntry","Created":"2024-06-05T05:58:15-05:00","Description":"Log Entry 2","EntryCode":"Upper Non-critical - going high","EntryType":"SEL","GeneratorId":"0x0020","Id":"2","Message":"The system inlet temperature is greater than the upper warning threshold.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"0157a1a1","Name":"Log Entry 2","SensorNumber":5,"SensorType":"Temperature","Severity":"Warning","Serial":"J7N6MW3","NodeIP":"10.69.0.8","BmcIP":"127.0.0.1:7380"}

  ------  J7N6MW3
  ------  2
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mCollecting iDRAC Logs [38;5;243mverify J7N6MW3 [0m[1mcheck 5th log record which after SEL cleanup[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/main_test.go:267[0m
accessCounter[key] 3 127.0.0.1:7380 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7380 map[] map[] <nil> map[] 127.0.0.1:43172 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc0000c0580 <nil> <nil> 0xc0001005f0 0xc0001564e0 [] map[]}
accessCounter[key] 3 127.0.0.1:7280 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7280 map[] map[] <nil> map[] 127.0.0.1:47440 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc0001760b0 <nil> <nil> 0xc0000d24b0 0xc000156420 [] map[]}
{"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/3","@odata.type":"#LogEntry.v1_14_0.LogEntry","Created":"2024-06-19T02:06:39-05:00","Description":"Log Entry 3","EntryCode":"Upper Non-critical - going high","EntryType":"SEL","GeneratorId":"0x0020","Id":"3","Message":"The system inlet temperature is within range.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"81579ea1","Name":"Log Entry 3","SensorNumber":3,"SensorType":"Temperature","Severity":"OK","Serial":"J7N6MW3","NodeIP":"10.69.0.8","BmcIP":"127.0.0.1:7380"}
  **** Received stringJSON= {"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/3","@odata.type":"#LogEntry.v1_14_0.LogEntry","Created":"2024-06-19T02:06:39-05:00","Description":"Log Entry 3","EntryCode":"Upper Non-critical - going high","EntryType":"SEL","GeneratorId":"0x0020","Id":"3","Message":"The system inlet temperature is within range.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"81579ea1","Name":"Log Entry 3","SensorNumber":3,"SensorType":"Temperature","Severity":"OK","Serial":"J7N6MW3","NodeIP":"10.69.0.8","BmcIP":"127.0.0.1:7380"}

  ------  J7N6MW3
  ------  3
[38;5;10mâ€¢ [2.001 seconds][0m
[38;5;243m------------------------------[0m
[0mGet Machines List [38;5;243mnormal JSON file [0m[1mread ptr file[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/log-pointer_test.go:36[0m
  {ABCDEF 0 0 <nil>}
[38;5;10mâ€¢ [0.002 seconds][0m
[38;5;243m------------------------------[0m
[0mGet Machines List [38;5;243mnormal JSON file [0m[1mupdate ptr[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/log-pointer_test.go:44[0m
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGet Machines List [38;5;243mdelete retired server ptr file [0m[1mdo delete[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/log-pointer_test.go:53[0m
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGet Machines List [38;5;243mdelete retired server ptr file [0m[1mcheck that file has been deleted[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/log-pointer_test.go:57[0m
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGet Metrics export [38;5;243mNormal [0m[1mput metrics at failed case[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/metrics_test.go:33[0m
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGet Metrics export [38;5;243mNormal [0m[1mget metrics at success case[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/metrics_test.go:36[0m
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGet Metrics export [38;5;243mNormal [0m[1mget metrics[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/metrics_test.go:39[0m
  0 # HELP failed_counter The failed count for Redfish of BMC accessing
  1 # TYPE failed_counter counter
  2 failed_counter{ip_addr="172.16.0.1",serial="ABC123X",status="404"} 1
  3 # HELP success_counter The success count for Redfish of BMC accessing
  4 # TYPE success_counter counter
  5 success_counter{ip_addr="127.0.0.1:7180",serial="683FPQ3",status="200"} 2
  6 success_counter{ip_addr="127.0.0.1:7280",serial="HN3CLP3",status="200"} 2
  7 success_counter{ip_addr="127.0.0.1:7380",serial="J7N6MW3",status="200"} 3
  8 success_counter{ip_addr="172.16.0.1",serial="ABC123X",status="200"} 1
  9 
[# HELP failed_counter The failed count for Redfish of BMC accessing # TYPE failed_counter counter failed_counter{ip_addr="172.16.0.1",serial="ABC123X",status="404"} 1 # HELP success_counter The success count for Redfish of BMC accessing # TYPE success_counter counter success_counter{ip_addr="127.0.0.1:7180",serial="683FPQ3",status="200"} 2 success_counter{ip_addr="127.0.0.1:7280",serial="HN3CLP3",status="200"} 2 success_counter{ip_addr="127.0.0.1:7380",serial="J7N6MW3",status="200"} 3 success_counter{ip_addr="172.16.0.1",serial="ABC123X",status="200"} 1 ]
[38;5;10mâ€¢ [0.005 seconds][0m
[38;5;243m------------------------------[0m
[0mGet Metrics export [38;5;243mNormal [0m[1mverify HELP line in metrics[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/metrics_test.go:59[0m
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGet Metrics export [38;5;243mNormal [0m[1mverify TYPE line in metrics[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/metrics_test.go:63[0m
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
accessCounter[key] 3 127.0.0.1:7180 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7180 map[] map[] <nil> map[] 127.0.0.1:55670 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc0000c0630 <nil> <nil> 0xc0000d25a0 0xc000156360 [] map[]}
[0mGet Metrics export [38;5;243mNormal [0m[1miDRAC ABC123X 172.16.0.1 failed[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/metrics_test.go:68[0m
  name=failed_counter, type=UNTYPED 
  idx=0  label name=ip_addr, value=172.16.0.1 
  untyped value=1.000000 
  idx=1  label name=serial, value=ABC123X 
  idx=2  label name=status, value=404 
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGet Metrics export [38;5;243mNormal [0m[1mverify HELP line in metrics[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/metrics_test.go:107[0m
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGet Metrics export [38;5;243mNormal [0m[1mverify TYPE line in metrics[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/metrics_test.go:112[0m
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGet Metrics export [38;5;243mNormal [0m[1miDRAC ABC123X 172.16.0.1 success[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/metrics_test.go:117[0m
  name=success_counter, type=UNTYPED 
  idx=0  label name=ip_addr, value=127.0.0.1:7180 
  idx=1  label name=serial, value=683FPQ3 
  idx=2  label name=status, value=200 
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGet Machines List [38;5;243mNormal [0m[1mRead JSON file[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/machines-list_test.go:13[0m
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGet Machines List [38;5;243mAbnormal [0m[1mAbnormal, no existing file[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/machines-list_test.go:39[0m
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGet Machines List [38;5;243mAbnormal [0m[1mAbnormal, lack of element[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/machines-list_test.go:44[0m
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mGet Machines List [38;5;243mAbnormal [0m[1mAbnormal, read empty JSON file[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/machines-list_test.go:49[0m
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mAccess BMC [38;5;243mAccess iDRAC server to get SEL [0m[1mNormal access[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/request-to-bmc_test.go:52[0m
*** Start iDRAC Stub
{"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/3","@odata.type":"#LogEntry.v1_15_0.LogEntry","Created":"2034-07-27T02:23:28-05:00","Description":"Log Entry 3","EntryCode":"Assert","EntryType":"SEL","GeneratorId":"0x0073","Id":"3","Message":"OEM software event.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"72696767","Name":"Log Entry 3","SensorNumber":116,"SensorType":"OS Stop/Shutdown","Severity":"OK","Serial":"683FPQ3","NodeIP":"10.69.0.6","BmcIP":"127.0.0.1:7180"}
error accessCounter[key] 3 127.0.0.1:7280 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7280 map[] map[] <nil> map[] 127.0.0.1:51846 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc000176370 <nil> <nil> 0xc000101040 0xc000156420 [] map[]}
  [38;5;9m[FAILED][0m in [It] - /home/ubuntu/neco-containers/bmc-log-collector/request-to-bmc_test.go:55 [38;5;243m@ 08/21/24 01:56:33.14[0m
error accessCounter[key] 3 127.0.0.1:7180 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7180 map[] map[] <nil> map[] 127.0.0.1:36288 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc0003bb130 <nil> <nil> 0xc0000d3180 0xc000156360 [] map[]}
[38;5;9mâ€¢ [FAILED] [14.001 seconds][0m
[0mAccess BMC [38;5;243mAccess iDRAC server to get SEL [38;5;9m[1m[It] Normal access[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/request-to-bmc_test.go:52[0m

  [38;5;9m[FAILED] Unexpected error:
      <*url.Error | 0xc00011c6c0>: 
      Get "https://127.0.0.1:19082/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries": context deadline exceeded
      {
          Op: "Get",
          URL: "https://127.0.0.1:19082/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries",
          Err: <context.deadlineExceededError>{},
      }
  occurred[0m
  [38;5;9mIn [1m[It][0m[38;5;9m at: [1m/home/ubuntu/neco-containers/bmc-log-collector/request-to-bmc_test.go:55[0m [38;5;243m@ 08/21/24 01:56:33.14[0m
[38;5;243m------------------------------[0m
[38;5;14mS [SKIPPED] [0.000 seconds][0m
[0mAccess BMC [38;5;243mAccess iDRAC server to get SEL [38;5;14m[1m[It] Abnormal access, not existing web server[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/request-to-bmc_test.go:60[0m

  [38;5;14m[SKIPPED] Spec skipped because an earlier spec in an ordered container failed[0m
  [38;5;14mIn [1m[It][0m[38;5;14m at: [1m/home/ubuntu/neco-containers/bmc-log-collector/request-to-bmc_test.go:60[0m [38;5;243m@ 08/21/24 01:56:36.142[0m
[38;5;243m------------------------------[0m
[38;5;14mS [SKIPPED] [0.000 seconds][0m
[0mAccess BMC [38;5;243mAccess iDRAC server to get SEL [38;5;14m[1m[It] Abnormal access, wrong path[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/request-to-bmc_test.go:66[0m

  [38;5;14m[SKIPPED] Spec skipped because an earlier spec in an ordered container failed[0m
  [38;5;14mIn [1m[It][0m[38;5;14m at: [1m/home/ubuntu/neco-containers/bmc-log-collector/request-to-bmc_test.go:66[0m [38;5;243m@ 08/21/24 01:56:36.143[0m
[38;5;243m------------------------------[0m
[38;5;14mS [SKIPPED] [0.000 seconds][0m
[0mAccess BMC [38;5;243mAccess iDRAC server to get SEL [38;5;14m[1m[It] Abnormal access, wrong username[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/request-to-bmc_test.go:73[0m

  [38;5;14m[SKIPPED] Spec skipped because an earlier spec in an ordered container failed[0m
  [38;5;14mIn [1m[It][0m[38;5;14m at: [1m/home/ubuntu/neco-containers/bmc-log-collector/request-to-bmc_test.go:73[0m [38;5;243m@ 08/21/24 01:56:36.144[0m
[38;5;243m------------------------------[0m
[38;5;14mS [SKIPPED] [0.000 seconds][0m
[0mAccess BMC [38;5;243mAccess iDRAC server to get SEL [38;5;14m[1m[It] Abnormal access, wrong password[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/request-to-bmc_test.go:81[0m

  [38;5;14m[SKIPPED] Spec skipped because an earlier spec in an ordered container failed[0m
  [38;5;14mIn [1m[It][0m[38;5;14m at: [1m/home/ubuntu/neco-containers/bmc-log-collector/request-to-bmc_test.go:81[0m [38;5;243m@ 08/21/24 01:56:36.144[0m
[38;5;243m------------------------------[0m
[0mgathering up logs [38;5;243mSEL collector test [0m[1mget machine list[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:81[0m
  Start iDRAC Stub
error accessCounter[key] 3 127.0.0.1:7380 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7380 map[] map[] <nil> map[] 127.0.0.1:37220 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc0003bb1e0 <nil> <nil> 0xc0000d3450 0xc0001564e0 [] map[]}
error accessCounter[key] 3 127.0.0.1:7180 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7180 map[] map[] <nil> map[] 127.0.0.1:43178 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc0003ba210 <nil> <nil> 0xc0000d2be0 0xc000156360 [] map[]}
error accessCounter[key] 3 127.0.0.1:7380 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7380 map[] map[] <nil> map[] 127.0.0.1:34858 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc0003ba2c0 <nil> <nil> 0xc0000d2d70 0xc0001564e0 [] map[]}
error accessCounter[key] 3 127.0.0.1:7280 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7280 map[] map[] <nil> map[] 127.0.0.1:34856 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc0003ba370 <nil> <nil> 0xc0000d2e60 0xc000156420 [] map[]}
Machine List =  [{683FPQ3 127.0.0.1:8180 10.69.0.6}]
[38;5;10mâ€¢ [12.988 seconds][0m
[38;5;243m------------------------------[0m
[0mgathering up logs [38;5;243mSEL collector test [0m[1mcollect iDRAC log (run1)[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:87[0m
accessCounter[key] 1 127.0.0.1:8180 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:8180 map[] map[] <nil> map[] 127.0.0.1:43810 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc000177a20 <nil> <nil> 0xc0001019f0 0xc00044c240 [] map[]}
{"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/1","@odata.type":"#LogEntry.v1_15_0.LogEntry","Created":"2022-08-31T09:53:17-05:00","Description":"Log Entry 1","EntryCode":"Assert","EntryType":"SEL","GeneratorId":"0x0020","Id":"1","Message":"Log cleared.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"6f02ffff","Name":"Log Entry 1","SensorNumber":114,"SensorType":"Event Logging Disabled","Severity":"OK","Serial":"683FPQ3","NodeIP":"10.69.0.6","BmcIP":"127.0.0.1:8180"}
[38;5;10mâ€¢ [1.012 seconds][0m
[38;5;243m------------------------------[0m
[0mgathering up logs [38;5;243mSEL collector test [0m[1mverify output (run1)[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:105[0m
  **** Received stringJSON= {"@odata.id":"/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries/1","@odata.type":"#LogEntry.v1_15_0.LogEntry","Created":"2022-08-31T09:53:17-05:00","Description":"Log Entry 1","EntryCode":"Assert","EntryType":"SEL","GeneratorId":"0x0020","Id":"1","Message":"Log cleared.","MessageArgs":[],"MessageArgs@odata.count":0,"MessageId":"6f02ffff","Name":"Log Entry 1","SensorNumber":114,"SensorType":"Event Logging Disabled","Severity":"OK","Serial":"683FPQ3","NodeIP":"10.69.0.6","BmcIP":"127.0.0.1:8180"}

  ---- serial =  683FPQ3
  -------- id =  1
[38;5;10mâ€¢ [0.000 seconds][0m
[38;5;243m------------------------------[0m
[0mgathering up logs [38;5;243mSEL collector test [0m[1mcollect iDRAC log (run2)[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:124[0m
  ------  [{683FPQ3 127.0.0.1:8180 10.69.0.6}]
error accessCounter[key] 3 127.0.0.1:7180 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7180 map[] map[] <nil> map[] 127.0.0.1:46062 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc000176160 <nil> <nil> 0xc000100820 0xc000156360 [] map[]}
error accessCounter[key] 3 127.0.0.1:7380 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7380 map[] map[] <nil> map[] 127.0.0.1:39094 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc000176210 <nil> <nil> 0xc000100aa0 0xc0001564e0 [] map[]}
error accessCounter[key] 3 127.0.0.1:7280 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7280 map[] map[] <nil> map[] 127.0.0.1:52994 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc0003ba0b0 <nil> <nil> 0xc0000d2640 0xc000156420 [] map[]}
accessCounter[key] 2 127.0.0.1:8180 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:8180 map[] map[] <nil> map[] 127.0.0.1:43816 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc0003ba160 <nil> <nil> 0xc0000d2be0 0xc00044c240 [] map[]}
2024/08/21 01:57:00 ERROR failed access to iDRAC. err="Get \"https://127.0.0.1:8180/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)" url=/redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries httpStatusCode=0
[38;5;10mâ€¢ [10.001 seconds][0m
[38;5;243m------------------------------[0m
[0mgathering up logs [38;5;243mSEL collector test [0m[1mverify output (run2)[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:143[0m
error accessCounter[key] 3 127.0.0.1:7180 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7180 map[] map[] <nil> map[] 127.0.0.1:44396 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc0003ba630 <nil> <nil> 0xc0000d3c70 0xc000156360 [] map[]}
error accessCounter[key] 3 127.0.0.1:7280 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7280 map[] map[] <nil> map[] 127.0.0.1:49758 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc0003ba6e0 <nil> <nil> 0xc0000d3d60 0xc000156420 [] map[]}
error accessCounter[key] 3 127.0.0.1:7380 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7380 map[] map[] <nil> map[] 127.0.0.1:44968 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc000176b00 <nil> <nil> 0xc000101e00 0xc0001564e0 [] map[]}
  [38;5;214m[TIMEDOUT][0m in [It] - /home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:143 [38;5;243m@ 08/21/24 01:57:10.148[0m
error accessCounter[key] 3 127.0.0.1:7180 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7180 map[] map[] <nil> map[] 127.0.0.1:33860 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc000176d10 <nil> <nil> 0xc00029e370 0xc000156360 [] map[]}
error accessCounter[key] 3 127.0.0.1:7280 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7280 map[] map[] <nil> map[] 127.0.0.1:53618 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc000176dc0 <nil> <nil> 0xc00029e4b0 0xc000156420 [] map[]}
error accessCounter[key] 3 127.0.0.1:7380 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7380 map[] map[] <nil> map[] 127.0.0.1:37422 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc000176e70 <nil> <nil> 0xc00029e5a0 0xc0001564e0 [] map[]}
error accessCounter[key] 3 127.0.0.1:7180 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7180 map[] map[] <nil> map[] 127.0.0.1:59790 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc0003ba210 <nil> <nil> 0xc0003b0dc0 0xc000156360 [] map[]}
error accessCounter[key] 3 127.0.0.1:7280 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7280 map[] map[] <nil> map[] 127.0.0.1:59842 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc0003ba370 <nil> <nil> 0xc0003b0fa0 0xc000156420 [] map[]}
error accessCounter[key] 3 127.0.0.1:7380 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7380 map[] map[] <nil> map[] 127.0.0.1:33578 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc0001760b0 <nil> <nil> 0xc00029ebe0 0xc0001564e0 [] map[]}
error accessCounter[key] 3 127.0.0.1:7180 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7180 map[] map[] <nil> map[] 127.0.0.1:33488 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc0003ba790 <nil> <nil> 0xc0003b1590 0xc000156360 [] map[]}
error accessCounter[key] 3 127.0.0.1:7280 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7280 map[] map[] <nil> map[] 127.0.0.1:58052 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc0003ba8f0 <nil> <nil> 0xc0003b1770 0xc000156420 [] map[]}
error accessCounter[key] 3 127.0.0.1:7380 &{GET /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries HTTP/1.1 1 1 map[Accept-Encoding:[gzip] Authorization:[Basic dXNlcjpwYXNz] Connection:[close] User-Agent:[Go-http-client/1.1]] {} <nil> 0 [] true 127.0.0.1:7380 map[] map[] <nil> map[] 127.0.0.1:44784 /redfish/v1/Managers/iDRAC.Embedded.1/LogServices/Sel/Entries 0xc0003ba9a0 <nil> <nil> 0xc0003b1860 0xc0001564e0 [] map[]}
  [38;5;243m------------------------------[0m
  [1m[38;5;214mA running node failed to exit in time[0m
  Ginkgo is moving on but a node has timed out and failed to exit before its grace period elapsed.  The node has now leaked and is running in the background.
  Here's a current progress report:
    [0mgathering up logs [38;5;243mSEL collector test[0m [1m[38;5;214mverify output (run2)[0m (Spec Runtime: 40.004s)
      [38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:143[0m
      In [1m[38;5;214m[It][0m (Node Runtime: 40.004s)
        [38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:143[0m

      [1m[4mSpec Goroutine[0m
      [38;5;214mgoroutine 302 [sleep][0m
        [38;5;243mtime.Sleep(0x3b9aca00)[0m
          [38;5;243m/usr/local/go/src/runtime/time.go:195[0m
      [38;5;214m[1m> log-collector.ReadingTestResultLogNext(0xc000317380)[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:130[0m
            | stringJSON, err = b.ReadString('\n')
            | if err == io.EOF {
            [1m[38;5;214m> 	time.Sleep(1 * time.Second)[0m
            | 	continue
            | }
      [38;5;214m[1m> log-collector.init.func1.2.5({0xc000424a87?, 0x9?})[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:145[0m
            | It("verify output (run2)", func(ctx SpecContext) {
            | 	var result SystemEventLog
            [1m[38;5;214m> 	stringJSON, err := ReadingTestResultLogNext(reader)[0m
            | 	Expect(err).ToNot(HaveOccurred())
            | 	GinkgoWriter.Println("**** Received stringJSON=", stringJSON)
        [38;5;243mgithub.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()[0m
          [38;5;243m/home/ubuntu/go/pkg/mod/github.com/onsi/ginkgo/v2@v2.19.0/internal/suite.go:894[0m
        [38;5;243mgithub.com/onsi/ginkgo/v2/internal.(*Suite).runNode in goroutine 18[0m
          [38;5;243m/home/ubuntu/go/pkg/mod/github.com/onsi/ginkgo/v2@v2.19.0/internal/suite.go:881[0m

      [1m[4mGoroutines of Interest[0m
      [38;5;214mgoroutine 389 [sync.Mutex.Lock][0m
        [38;5;243msync.runtime_SemacquireMutex(0xc0001f5cf7?, 0xc9?, 0xc00028d6d8?)[0m
          [38;5;243m/usr/local/go/src/runtime/sema.go:77[0m
        [38;5;243msync.(*Mutex).lockSlow(0x127ac70)[0m
          [38;5;243m/usr/local/go/src/sync/mutex.go:171[0m
        [38;5;243msync.(*Mutex).Lock(0x127ac70)[0m
          [38;5;243m/usr/local/go/src/sync/mutex.go:90[0m
      [38;5;214m[1m> log-collector.redfishSel({0xe4f660, 0xc0000ea7e0}, 0xc0003c59e0)[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:73[0m
            | 
            | // Exclusive lock against other mock server which parallel running
            [1m[38;5;214m> mutex.Lock()[0m
            | defer mutex.Unlock()
            | 
        [38;5;243mnet/http.HandlerFunc.ServeHTTP(0xd629b0, {0xe4f660, 0xc0000ea7e0}, 0xc0003c59e0)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:2166[0m
        [38;5;243mnet/http.(*ServeMux).ServeHTTP(0xc00011e8f0, {0xe4f660, 0xc0000ea7e0}, 0xc0003c59e0)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:2683[0m
        [38;5;243mnet/http.serverHandler.ServeHTTP({0xc0003498f0?}, {0xe4f660, 0xc0000ea7e0}, 0xc0003c59e0)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3137[0m
        [38;5;243mnet/http.(*conn).serve(0xc0000f4f30, {0xe501b8, 0xc00034a2a0})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:2039[0m
        [38;5;243mnet/http.(*Server).Serve in goroutine 23[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3285[0m

      [38;5;214mgoroutine 23 [IO wait][0m
        [38;5;243minternal/poll.runtime_pollWait(0x7f8c75030510, 0x72)[0m
          [38;5;243m/usr/local/go/src/runtime/netpoll.go:345[0m
        [38;5;243minternal/poll.(*pollDesc).wait(0xc000025b20, 0x72, 0x0)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:84[0m
        [38;5;243minternal/poll.(*pollDesc).waitRead(...)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:89[0m
        [38;5;243minternal/poll.(*FD).Accept(0xc000025b00)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_unix.go:611[0m
        [38;5;243mnet.(*netFD).accept(0xc000025b00)[0m
          [38;5;243m/usr/local/go/src/net/fd_unix.go:172[0m
        [38;5;243mnet.(*TCPListener).accept(0xc00032c1a0)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock_posix.go:159[0m
        [38;5;243mnet.(*TCPListener).Accept(0xc00032c1a0)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock.go:327[0m
        [38;5;243mcrypto/tls.(*listener).Accept(0xc000013398)[0m
          [38;5;243m/usr/local/go/src/crypto/tls/tls.go:66[0m
        [38;5;243mnet/http.(*Server).Serve(0xc000342000, {0xe4f6f0, 0xc000013398})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3255[0m
        [38;5;243mnet/http.(*Server).ServeTLS(0xc000342000, {0xe4f7b0, 0xc00032c1a0}, {0xd2558e, 0x1a}, {0xd255a8, 0x1a})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3325[0m
        [38;5;243mnet/http.(*Server).ListenAndServeTLS(0xc000342000, {0xd2558e, 0x1a}, {0xd255a8, 0x1a})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3482[0m
        [38;5;243mnet/http.ListenAndServeTLS(...)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3448[0m
      [38;5;214m[1m> log-collector.(*bmcMock).startMock.func1()[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:57[0m
            | 	server.HandleFunc(redfishPath, redfishSel)
            | 	go func() {
            [1m[38;5;214m> 		http.ListenAndServeTLS(b.host, "testdata/ssl/localhost.crt", "testdata/ssl/localhost.key", server)[0m
            | 	}()
            | }
      [38;5;214m[1m> log-collector.(*bmcMock).startMock in goroutine 22[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:56[0m
            | server := http.NewServeMux()
            | server.HandleFunc(redfishPath, redfishSel)
            [1m[38;5;214m> go func() {[0m
            | 	http.ListenAndServeTLS(b.host, "testdata/ssl/localhost.crt", "testdata/ssl/localhost.key", server)
            | }()

      [38;5;214mgoroutine 24 [IO wait][0m
        [38;5;243minternal/poll.runtime_pollWait(0x7f8c75030700, 0x72)[0m
          [38;5;243m/usr/local/go/src/runtime/netpoll.go:345[0m
        [38;5;243minternal/poll.(*pollDesc).wait(0xc00012c520, 0x72, 0x0)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:84[0m
        [38;5;243minternal/poll.(*pollDesc).waitRead(...)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:89[0m
        [38;5;243minternal/poll.(*FD).Accept(0xc00012c500)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_unix.go:611[0m
        [38;5;243mnet.(*netFD).accept(0xc00012c500)[0m
          [38;5;243m/usr/local/go/src/net/fd_unix.go:172[0m
        [38;5;243mnet.(*TCPListener).accept(0xc000104440)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock_posix.go:159[0m
        [38;5;243mnet.(*TCPListener).Accept(0xc000104440)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock.go:327[0m
        [38;5;243mcrypto/tls.(*listener).Accept(0xc000102630)[0m
          [38;5;243m/usr/local/go/src/crypto/tls/tls.go:66[0m
        [38;5;243mnet/http.(*Server).Serve(0xc0003f6000, {0xe4f6f0, 0xc000102630})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3255[0m
        [38;5;243mnet/http.(*Server).ServeTLS(0xc0003f6000, {0xe4f7b0, 0xc000104440}, {0xd2558e, 0x1a}, {0xd255a8, 0x1a})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3325[0m
        [38;5;243mnet/http.(*Server).ListenAndServeTLS(0xc0003f6000, {0xd2558e, 0x1a}, {0xd255a8, 0x1a})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3482[0m
        [38;5;243mnet/http.ListenAndServeTLS(...)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3448[0m
      [38;5;214m[1m> log-collector.(*bmcMock).startMock.func1()[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:57[0m
            | 	server.HandleFunc(redfishPath, redfishSel)
            | 	go func() {
            [1m[38;5;214m> 		http.ListenAndServeTLS(b.host, "testdata/ssl/localhost.crt", "testdata/ssl/localhost.key", server)[0m
            | 	}()
            | }
      [38;5;214m[1m> log-collector.(*bmcMock).startMock in goroutine 22[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:56[0m
            | server := http.NewServeMux()
            | server.HandleFunc(redfishPath, redfishSel)
            [1m[38;5;214m> go func() {[0m
            | 	http.ListenAndServeTLS(b.host, "testdata/ssl/localhost.crt", "testdata/ssl/localhost.key", server)
            | }()

      [38;5;214mgoroutine 25 [IO wait][0m
        [38;5;243minternal/poll.runtime_pollWait(0x7f8c75030608, 0x72)[0m
          [38;5;243m/usr/local/go/src/runtime/netpoll.go:345[0m
        [38;5;243minternal/poll.(*pollDesc).wait(0xc00012c720, 0x72, 0x0)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:84[0m
        [38;5;243minternal/poll.(*pollDesc).waitRead(...)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:89[0m
        [38;5;243minternal/poll.(*FD).Accept(0xc00012c700)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_unix.go:611[0m
        [38;5;243mnet.(*netFD).accept(0xc00012c700)[0m
          [38;5;243m/usr/local/go/src/net/fd_unix.go:172[0m
        [38;5;243mnet.(*TCPListener).accept(0xc000104680)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock_posix.go:159[0m
        [38;5;243mnet.(*TCPListener).Accept(0xc000104680)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock.go:327[0m
        [38;5;243mcrypto/tls.(*listener).Accept(0xc000102780)[0m
          [38;5;243m/usr/local/go/src/crypto/tls/tls.go:66[0m
        [38;5;243mnet/http.(*Server).Serve(0xc0003f60f0, {0xe4f6f0, 0xc000102780})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3255[0m
        [38;5;243mnet/http.(*Server).ServeTLS(0xc0003f60f0, {0xe4f7b0, 0xc000104680}, {0xd2558e, 0x1a}, {0xd255a8, 0x1a})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3325[0m
        [38;5;243mnet/http.(*Server).ListenAndServeTLS(0xc0003f60f0, {0xd2558e, 0x1a}, {0xd255a8, 0x1a})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3482[0m
        [38;5;243mnet/http.ListenAndServeTLS(...)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3448[0m
      [38;5;214m[1m> log-collector.(*bmcMock).startMock.func1()[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:57[0m
            | 	server.HandleFunc(redfishPath, redfishSel)
            | 	go func() {
            [1m[38;5;214m> 		http.ListenAndServeTLS(b.host, "testdata/ssl/localhost.crt", "testdata/ssl/localhost.key", server)[0m
            | 	}()
            | }
      [38;5;214m[1m> log-collector.(*bmcMock).startMock in goroutine 22[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:56[0m
            | server := http.NewServeMux()
            | server.HandleFunc(redfishPath, redfishSel)
            [1m[38;5;214m> go func() {[0m
            | 	http.ListenAndServeTLS(b.host, "testdata/ssl/localhost.crt", "testdata/ssl/localhost.key", server)
            | }()

      [38;5;214mgoroutine 12 [semacquire][0m
        [38;5;243msync.runtime_Semacquire(0xc0001f4ec8?)[0m
          [38;5;243m/usr/local/go/src/runtime/sema.go:62[0m
        [38;5;243msync.(*WaitGroup).Wait(0xc0001f4ec0)[0m
          [38;5;243m/usr/local/go/src/sync/waitgroup.go:116[0m
      [38;5;214m[1m> log-collector.doLogScrapingLoop({{0xd2c4a7, 0x23}, {0xd39641, 0x3d}, {0xd26126, 0x1b}, {0xd1820a, 0x4}, {0xd1820e, 0x4}, ...}, ...)[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/main.go:68[0m
            | 		}()
            | 	}
            [1m[38;5;214m> 	wg.Wait()[0m
            | }
            | 
      [38;5;214m[1m> log-collector.init.func4.2.1.1 in goroutine 11[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/main_test.go:78[0m
            | }
            | func() {
            [1m[38;5;214m> 	go doLogScrapingLoop(lcConfig, logWriter)[0m
            | }()
            | // stop scraper after 30 sec

      [38;5;214mgoroutine 14 [IO wait, 1 minutes][0m
        [38;5;243minternal/poll.runtime_pollWait(0x7f8c75030418, 0x72)[0m
          [38;5;243m/usr/local/go/src/runtime/netpoll.go:345[0m
        [38;5;243minternal/poll.(*pollDesc).wait(0xc000025da0, 0x72, 0x0)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:84[0m
        [38;5;243minternal/poll.(*pollDesc).waitRead(...)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:89[0m
        [38;5;243minternal/poll.(*FD).Accept(0xc000025d80)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_unix.go:611[0m
        [38;5;243mnet.(*netFD).accept(0xc000025d80)[0m
          [38;5;243m/usr/local/go/src/net/fd_unix.go:172[0m
        [38;5;243mnet.(*TCPListener).accept(0xc00032c4a0)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock_posix.go:159[0m
        [38;5;243mnet.(*TCPListener).Accept(0xc00032c4a0)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock.go:327[0m
        [38;5;243mnet/http.(*Server).Serve(0xc0003420f0, {0xe4f7b0, 0xc00032c4a0})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3255[0m
        [38;5;243mnet/http.(*Server).ListenAndServe(0xc0003420f0)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3184[0m
        [38;5;243mnet/http.ListenAndServe(...)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3438[0m
      [38;5;214m[1m> log-collector.metrics({0xd19c66, 0x8}, {0xd186b8, 0x5})[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/metrics.go:40[0m
            | 		},
            | 	))
            [1m[38;5;214m> 	http.ListenAndServe(port, nil)[0m
            | }
            | 
      [38;5;214m[1m> log-collector.doLogScrapingLoop in goroutine 12[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/main.go:44[0m
            | 
            | // Expose metrics via HTTP
            [1m[38;5;214m> go metrics("/metrics", ":8080")[0m
            | 
            | // scraping loop

      [38;5;214mgoroutine 374 [select][0m
        [38;5;243mnet/http.(*persistConn).roundTrip(0xc0003c4a20, 0xc000328d80)[0m
          [38;5;243m/usr/local/go/src/net/http/transport.go:2675[0m
        [38;5;243mnet/http.(*Transport).roundTrip(0xc0003303c0, 0xc0003c4900)[0m
          [38;5;243m/usr/local/go/src/net/http/transport.go:608[0m
        [38;5;243mnet/http.(*Transport).RoundTrip(0xc0003303c0, 0xc0003c4900)[0m
          [38;5;243m/usr/local/go/src/net/http/roundtrip.go:17[0m
        [38;5;243mnet/http.send(0xc0003c47e0, {0xe4bb20, 0xc0003303c0}, {0x0?, 0x0?, 0x12181e0?})[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:259[0m
        [38;5;243mnet/http.(*Client).send(0xc00034a390, 0xc0003c47e0, {0x0?, 0xc000349f80?, 0x12181e0?})[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:180[0m
        [38;5;243mnet/http.(*Client).do(0xc00034a390, 0xc0003c47e0)[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:724[0m
        [38;5;243mnet/http.(*Client).Do(...)[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:590[0m
      [38;5;214m[1m> log-collector.requestToBmc({0xe50308, 0xc000307200}, {0xd1820a, 0x4}, {0xd1820e, 0x4}, 0xc00034a390, {0xc000034de0, 0x53})[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/request-to-bmc.go:17[0m
            | req.SetBasicAuth(username, password)
            | req = req.WithContext(ctx)
            [1m[38;5;214m> resp, err := client.Do(req)[0m
            | if err != nil {
            | 	return nil, 0, err
      [38;5;214m[1m> log-collector.(*selCollector).collectSystemEventLog(0xc00007fec0, {0xe50308, 0xc000307200}, {{0xc0004454d9, 0x7}, {0xc0004454e2, 0xe}, {0xc0004454f7, 0x9}}, {0xe4bb40, ...})[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/log-collector.go:70[0m
            | 
            | bmcUrl := "https://" + m.BmcIP + c.rfSelPath
            [1m[38;5;214m> byteJSON, statusCode, err := requestToBmc(ctx, c.username, c.password, c.httpClient, bmcUrl)[0m
            | if statusCode != 200 || err != nil {
            | 	counterRequestFailed.WithLabelValues(fmt.Sprintf("%v", statusCode), m.Serial, m.BmcIP).Inc()
      [38;5;214m[1m> log-collector.doLogScrapingLoop.func1()[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/main.go:64[0m
            | wg.Add(1)
            | go func() {
            [1m[38;5;214m> 	config.collectSystemEventLog(ctx, m, logWriter)[0m
            | 	wg.Done()
            | }()
      [38;5;214m[1m> log-collector.doLogScrapingLoop in goroutine 12[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/main.go:63[0m
            | for _, m := range machinesList {
            | 	wg.Add(1)
            [1m[38;5;214m> 	go func() {[0m
            | 		config.collectSystemEventLog(ctx, m, logWriter)
            | 		wg.Done()

      [38;5;214mgoroutine 175 [IO wait][0m
        [38;5;243minternal/poll.runtime_pollWait(0x7f8c75030320, 0x72)[0m
          [38;5;243m/usr/local/go/src/runtime/netpoll.go:345[0m
        [38;5;243minternal/poll.(*pollDesc).wait(0xc00012c220, 0x72, 0x0)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:84[0m
        [38;5;243minternal/poll.(*pollDesc).waitRead(...)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:89[0m
        [38;5;243minternal/poll.(*FD).Accept(0xc00012c200)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_unix.go:611[0m
        [38;5;243mnet.(*netFD).accept(0xc00012c200)[0m
          [38;5;243m/usr/local/go/src/net/fd_unix.go:172[0m
        [38;5;243mnet.(*TCPListener).accept(0xc00032c7c0)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock_posix.go:159[0m
        [38;5;243mnet.(*TCPListener).Accept(0xc00032c7c0)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock.go:327[0m
        [38;5;243mcrypto/tls.(*listener).Accept(0xc000012ae0)[0m
          [38;5;243m/usr/local/go/src/crypto/tls/tls.go:66[0m
        [38;5;243mnet/http.(*Server).Serve(0xc0003f63c0, {0xe4f6f0, 0xc000012ae0})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3255[0m
        [38;5;243mnet/http.(*Server).ServeTLS(0xc0003f63c0, {0xe4f7b0, 0xc00032c7c0}, {0xd2558e, 0x1a}, {0xd255a8, 0x1a})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3325[0m
        [38;5;243mnet/http.(*Server).ListenAndServeTLS(0xc0003f63c0, {0xd2558e, 0x1a}, {0xd255a8, 0x1a})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3482[0m
        [38;5;243mnet/http.ListenAndServeTLS(...)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3448[0m
      [38;5;214m[1m> log-collector.(*bmcMock).startMock.func1()[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:57[0m
            | 	server.HandleFunc(redfishPath, redfishSel)
            | 	go func() {
            [1m[38;5;214m> 		http.ListenAndServeTLS(b.host, "testdata/ssl/localhost.crt", "testdata/ssl/localhost.key", server)[0m
            | 	}()
            | }
      [38;5;214m[1m> log-collector.(*bmcMock).startMock in goroutine 174[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:56[0m
            | server := http.NewServeMux()
            | server.HandleFunc(redfishPath, redfishSel)
            [1m[38;5;214m> go func() {[0m
            | 	http.ListenAndServeTLS(b.host, "testdata/ssl/localhost.crt", "testdata/ssl/localhost.key", server)
            | }()

      [38;5;214mgoroutine 375 [select][0m
        [38;5;243mnet/http.(*persistConn).roundTrip(0xc0003b3560, 0xc000307d00)[0m
          [38;5;243m/usr/local/go/src/net/http/transport.go:2675[0m
        [38;5;243mnet/http.(*Transport).roundTrip(0xc0003303c0, 0xc0003b3440)[0m
          [38;5;243m/usr/local/go/src/net/http/transport.go:608[0m
        [38;5;243mnet/http.(*Transport).RoundTrip(0xc0003303c0, 0xc0003b3440)[0m
          [38;5;243m/usr/local/go/src/net/http/roundtrip.go:17[0m
        [38;5;243mnet/http.send(0xc0003b3320, {0xe4bb20, 0xc0003303c0}, {0x0?, 0x0?, 0x12181e0?})[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:259[0m
        [38;5;243mnet/http.(*Client).send(0xc00034a390, 0xc0003b3320, {0x0?, 0x44fabb?, 0x12181e0?})[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:180[0m
        [38;5;243mnet/http.(*Client).do(0xc00034a390, 0xc0003b3320)[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:724[0m
        [38;5;243mnet/http.(*Client).Do(...)[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:590[0m
      [38;5;214m[1m> log-collector.requestToBmc({0xe50308, 0xc000307200}, {0xd1820a, 0x4}, {0xd1820e, 0x4}, 0xc00034a390, {0xc000388900, 0x53})[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/request-to-bmc.go:17[0m
            | req.SetBasicAuth(username, password)
            | req = req.WithContext(ctx)
            [1m[38;5;214m> resp, err := client.Do(req)[0m
            | if err != nil {
            | 	return nil, 0, err
      [38;5;214m[1m> log-collector.(*selCollector).collectSystemEventLog(0xc00007fec0, {0xe50308, 0xc000307200}, {{0xc000445689, 0x7}, {0xc000445692, 0xe}, {0xc0004456a7, 0x9}}, {0xe4bb40, ...})[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/log-collector.go:70[0m
            | 
            | bmcUrl := "https://" + m.BmcIP + c.rfSelPath
            [1m[38;5;214m> byteJSON, statusCode, err := requestToBmc(ctx, c.username, c.password, c.httpClient, bmcUrl)[0m
            | if statusCode != 200 || err != nil {
            | 	counterRequestFailed.WithLabelValues(fmt.Sprintf("%v", statusCode), m.Serial, m.BmcIP).Inc()
      [38;5;214m[1m> log-collector.doLogScrapingLoop.func1()[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/main.go:64[0m
            | wg.Add(1)
            | go func() {
            [1m[38;5;214m> 	config.collectSystemEventLog(ctx, m, logWriter)[0m
            | 	wg.Done()
            | }()
      [38;5;214m[1m> log-collector.doLogScrapingLoop in goroutine 12[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/main.go:63[0m
            | for _, m := range machinesList {
            | 	wg.Add(1)
            [1m[38;5;214m> 	go func() {[0m
            | 		config.collectSystemEventLog(ctx, m, logWriter)
            | 		wg.Done()

      [38;5;214mgoroutine 390 [sync.Mutex.Lock][0m
        [38;5;243msync.runtime_SemacquireMutex(0xc0001f5e37?, 0xc9?, 0xc0002016d8?)[0m
          [38;5;243m/usr/local/go/src/runtime/sema.go:77[0m
        [38;5;243msync.(*Mutex).lockSlow(0x127ac70)[0m
          [38;5;243m/usr/local/go/src/sync/mutex.go:171[0m
        [38;5;243msync.(*Mutex).Lock(0x127ac70)[0m
          [38;5;243m/usr/local/go/src/sync/mutex.go:90[0m
      [38;5;214m[1m> log-collector.redfishSel({0xe4f660, 0xc0000ea8c0}, 0xc0003c5b00)[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:73[0m
            | 
            | // Exclusive lock against other mock server which parallel running
            [1m[38;5;214m> mutex.Lock()[0m
            | defer mutex.Unlock()
            | 
        [38;5;243mnet/http.HandlerFunc.ServeHTTP(0xd629b0, {0xe4f660, 0xc0000ea8c0}, 0xc0003c5b00)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:2166[0m
        [38;5;243mnet/http.(*ServeMux).ServeHTTP(0xc00011e9c0, {0xe4f660, 0xc0000ea8c0}, 0xc0003c5b00)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:2683[0m
        [38;5;243mnet/http.serverHandler.ServeHTTP({0xc000349a40?}, {0xe4f660, 0xc0000ea8c0}, 0xc0003c5b00)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3137[0m
        [38;5;243mnet/http.(*conn).serve(0xc0000f4fc0, {0xe501b8, 0xc00011cae0})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:2039[0m
        [38;5;243mnet/http.(*Server).Serve in goroutine 24[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3285[0m

      [38;5;214mgoroutine 154 [IO wait, 1 minutes][0m
        [38;5;243minternal/poll.runtime_pollWait(0x7f8c75030228, 0x72)[0m
          [38;5;243m/usr/local/go/src/runtime/netpoll.go:345[0m
        [38;5;243minternal/poll.(*pollDesc).wait(0xc00012c1a0, 0x72, 0x0)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:84[0m
        [38;5;243minternal/poll.(*pollDesc).waitRead(...)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:89[0m
        [38;5;243minternal/poll.(*FD).Accept(0xc00012c180)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_unix.go:611[0m
        [38;5;243mnet.(*netFD).accept(0xc00012c180)[0m
          [38;5;243m/usr/local/go/src/net/fd_unix.go:172[0m
        [38;5;243mnet.(*TCPListener).accept(0xc00032c040)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock_posix.go:159[0m
        [38;5;243mnet.(*TCPListener).Accept(0xc00032c040)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock.go:327[0m
        [38;5;243mcrypto/tls.(*listener).Accept(0xc000012618)[0m
          [38;5;243m/usr/local/go/src/crypto/tls/tls.go:66[0m
        [38;5;243mnet/http.(*Server).Serve(0xc0003f62d0, {0xe4f6f0, 0xc000012618})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3255[0m
        [38;5;243mnet/http.(*Server).ServeTLS(0xc0003f62d0, {0xe4f7b0, 0xc00032c040}, {0xd2558e, 0x1a}, {0xd255a8, 0x1a})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3325[0m
        [38;5;243mnet/http.(*Server).ListenAndServeTLS(0xc0003f62d0, {0xd2558e, 0x1a}, {0xd255a8, 0x1a})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3482[0m
        [38;5;243mnet/http.ListenAndServeTLS(...)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3448[0m
      [38;5;214m[1m> log-collector.(*bmcMock).startMock.func1()[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:57[0m
            | 	server.HandleFunc(redfishPath, redfishSel)
            | 	go func() {
            [1m[38;5;214m> 		http.ListenAndServeTLS(b.host, "testdata/ssl/localhost.crt", "testdata/ssl/localhost.key", server)[0m
            | 	}()
            | }
      [38;5;214m[1m> log-collector.(*bmcMock).startMock in goroutine 145[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:56[0m
            | server := http.NewServeMux()
            | server.HandleFunc(redfishPath, redfishSel)
            [1m[38;5;214m> go func() {[0m
            | 	http.ListenAndServeTLS(b.host, "testdata/ssl/localhost.crt", "testdata/ssl/localhost.key", server)
            | }()

      [38;5;214mgoroutine 133 [IO wait, 1 minutes][0m
        [38;5;243minternal/poll.runtime_pollWait(0x7f8c7502ff40, 0x72)[0m
          [38;5;243m/usr/local/go/src/runtime/netpoll.go:345[0m
        [38;5;243minternal/poll.(*pollDesc).wait(0xc00012c020, 0x72, 0x0)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:84[0m
        [38;5;243minternal/poll.(*pollDesc).waitRead(...)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:89[0m
        [38;5;243minternal/poll.(*FD).Accept(0xc00012c000)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_unix.go:611[0m
        [38;5;243mnet.(*netFD).accept(0xc00012c000)[0m
          [38;5;243m/usr/local/go/src/net/fd_unix.go:172[0m
        [38;5;243mnet.(*TCPListener).accept(0xc000104320)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock_posix.go:159[0m
        [38;5;243mnet.(*TCPListener).Accept(0xc000104320)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock.go:327[0m
        [38;5;243mnet/http.(*Server).Serve(0xc0003f61e0, {0xe4f7b0, 0xc000104320})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3255[0m
        [38;5;243mnet/http.(*Server).ListenAndServe(0xc0003f61e0)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3184[0m
        [38;5;243mnet/http.ListenAndServe(...)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3438[0m
      [38;5;214m[1m> log-collector.metrics({0xd1cb48, 0xd}, {0xd18ce2, 0x6})[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/metrics.go:40[0m
            | 		},
            | 	))
            [1m[38;5;214m> 	http.ListenAndServe(port, nil)[0m
            | }
            | 
      [38;5;214m[1m> log-collector.init.func5.1.1()[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/metrics_test.go:27[0m
            | BeforeAll(func() {
            | 	go func() {
            [1m[38;5;214m> 		metrics(metricsPath, metricsPort)[0m
            | 	}()
            | })
      [38;5;214m[1m> log-collector.init.func5.1 in goroutine 132[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/metrics_test.go:26[0m
            | var metricsPort = ":28000"
            | BeforeAll(func() {
            [1m[38;5;214m> 	go func() {[0m
            | 		metrics(metricsPath, metricsPort)
            | 	}()

      [38;5;214mgoroutine 206 [IO wait, 1 minutes][0m
        [38;5;243minternal/poll.runtime_pollWait(0x7f8c7502fc58, 0x72)[0m
          [38;5;243m/usr/local/go/src/runtime/netpoll.go:345[0m
        [38;5;243minternal/poll.(*pollDesc).wait(0xc00012cba0, 0x72, 0x0)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:84[0m
        [38;5;243minternal/poll.(*pollDesc).waitRead(...)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:89[0m
        [38;5;243minternal/poll.(*FD).Accept(0xc00012cb80)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_unix.go:611[0m
        [38;5;243mnet.(*netFD).accept(0xc00012cb80)[0m
          [38;5;243m/usr/local/go/src/net/fd_unix.go:172[0m
        [38;5;243mnet.(*TCPListener).accept(0xc00032cf20)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock_posix.go:159[0m
        [38;5;243mnet.(*TCPListener).Accept(0xc00032cf20)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock.go:327[0m
        [38;5;243mnet/http.(*Server).Serve(0xc0003f64b0, {0xe4f7b0, 0xc00032cf20})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3255[0m
        [38;5;243mnet/http.(*Server).ListenAndServe(0xc0003f64b0)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3184[0m
        [38;5;243mnet/http.ListenAndServe(...)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3438[0m
      [38;5;214m[1m> log-collector.metrics({0xd1cb2e, 0xd}, {0xd18cd0, 0x6})[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/metrics.go:40[0m
            | 		},
            | 	))
            [1m[38;5;214m> 	http.ListenAndServe(port, nil)[0m
            | }
            | 
      [38;5;214m[1m> log-collector.init.func1.1.1()[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:51[0m
            | 	// must start metrics exporter, if not it get SIGSEGV
            | 	go func() {
            [1m[38;5;214m> 		metrics(metricsPath, metricsPort)[0m
            | 	}()
            | })
      [38;5;214m[1m> log-collector.init.func1.1 in goroutine 174[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:50[0m
            | 
            | // must start metrics exporter, if not it get SIGSEGV
            [1m[38;5;214m> go func() {[0m
            | 	metrics(metricsPath, metricsPort)
            | }()

      [38;5;214mgoroutine 376 [select][0m
        [38;5;243mnet/http.(*persistConn).roundTrip(0xc0003c5200, 0xc000328e00)[0m
          [38;5;243m/usr/local/go/src/net/http/transport.go:2675[0m
        [38;5;243mnet/http.(*Transport).roundTrip(0xc0003303c0, 0xc0003c4fc0)[0m
          [38;5;243m/usr/local/go/src/net/http/transport.go:608[0m
        [38;5;243mnet/http.(*Transport).RoundTrip(0xc0003303c0, 0xc0003c4fc0)[0m
          [38;5;243m/usr/local/go/src/net/http/roundtrip.go:17[0m
        [38;5;243mnet/http.send(0xc0003c4ea0, {0xe4bb20, 0xc0003303c0}, {0x0?, 0x0?, 0x12181e0?})[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:259[0m
        [38;5;243mnet/http.(*Client).send(0xc00034a390, 0xc0003c4ea0, {0x0?, 0xc000349f80?, 0x12181e0?})[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:180[0m
        [38;5;243mnet/http.(*Client).do(0xc00034a390, 0xc0003c4ea0)[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:724[0m
        [38;5;243mnet/http.(*Client).Do(...)[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:590[0m
      [38;5;214m[1m> log-collector.requestToBmc({0xe50308, 0xc000307200}, {0xd1820a, 0x4}, {0xd1820e, 0x4}, 0xc00034a390, {0xc000035080, 0x53})[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/request-to-bmc.go:17[0m
            | req.SetBasicAuth(username, password)
            | req = req.WithContext(ctx)
            [1m[38;5;214m> resp, err := client.Do(req)[0m
            | if err != nil {
            | 	return nil, 0, err
      [38;5;214m[1m> log-collector.(*selCollector).collectSystemEventLog(0xc00007fec0, {0xe50308, 0xc000307200}, {{0xc0004456b9, 0x7}, {0xc0004456c2, 0xe}, {0xc0004456d7, 0x9}}, {0xe4bb40, ...})[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/log-collector.go:70[0m
            | 
            | bmcUrl := "https://" + m.BmcIP + c.rfSelPath
            [1m[38;5;214m> byteJSON, statusCode, err := requestToBmc(ctx, c.username, c.password, c.httpClient, bmcUrl)[0m
            | if statusCode != 200 || err != nil {
            | 	counterRequestFailed.WithLabelValues(fmt.Sprintf("%v", statusCode), m.Serial, m.BmcIP).Inc()
      [38;5;214m[1m> log-collector.doLogScrapingLoop.func1()[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/main.go:64[0m
            | wg.Add(1)
            | go func() {
            [1m[38;5;214m> 	config.collectSystemEventLog(ctx, m, logWriter)[0m
            | 	wg.Done()
            | }()
      [38;5;214m[1m> log-collector.doLogScrapingLoop in goroutine 12[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/main.go:63[0m
            | for _, m := range machinesList {
            | 	wg.Add(1)
            [1m[38;5;214m> 	go func() {[0m
            | 		config.collectSystemEventLog(ctx, m, logWriter)
            | 		wg.Done()

      [38;5;214mgoroutine 383 [sleep][0m
        [38;5;243mtime.Sleep(0xb2d05e00)[0m
          [38;5;243m/usr/local/go/src/runtime/time.go:195[0m
      [38;5;214m[1m> log-collector.redfishSel({0xe4f660, 0xc0000ea700}, 0xc0003c5680)[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:79[0m
            | key := string(r.Host)
            | if accessCounter[key] > (len(responseFiles[key]) - 1) {
            [1m[38;5;214m> 	time.Sleep(3 * time.Second)[0m
            | 	w.Header().Set("Content-Type", "text/plain; charset=utf-8")
            | 	w.WriteHeader(http.StatusNotFound)
        [38;5;243mnet/http.HandlerFunc.ServeHTTP(0xd629b0, {0xe4f660, 0xc0000ea700}, 0xc0003c5680)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:2166[0m
        [38;5;243mnet/http.(*ServeMux).ServeHTTP(0xc00011eb60, {0xe4f660, 0xc0000ea700}, 0xc0003c5680)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:2683[0m
        [38;5;243mnet/http.serverHandler.ServeHTTP({0xc000349500?}, {0xe4f660, 0xc0000ea700}, 0xc0003c5680)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3137[0m
        [38;5;243mnet/http.(*conn).serve(0xc000347b90, {0xe501b8, 0xc00011d020})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:2039[0m
        [38;5;243mnet/http.(*Server).Serve in goroutine 25[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3285[0m
  [38;5;243m------------------------------[0m
[38;5;214mâ€¢ [TIMEDOUT] [40.050 seconds][0m
[0mgathering up logs [38;5;243mSEL collector test [38;5;214m[1m[It] verify output (run2)[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:143[0m

  [38;5;214m[TIMEDOUT] A spec timeout occurred[0m
  [38;5;214mIn [1m[It][0m[38;5;214m at: [1m/home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:143[0m [38;5;243m@ 08/21/24 01:57:10.148[0m

  [1mThis is the Progress Report generated when the spec timeout occurred:[0m
    [0mgathering up logs [38;5;243mSEL collector test[0m [1m[38;5;214mverify output (run2)[0m (Spec Runtime: 10.001s)
      [38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:143[0m
      In [1m[38;5;214m[It][0m (Node Runtime: 10.001s)
        [38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:143[0m

      [1m[4mSpec Goroutine[0m
      [38;5;214mgoroutine 302 [sleep][0m
        [38;5;243mtime.Sleep(0x3b9aca00)[0m
          [38;5;243m/usr/local/go/src/runtime/time.go:195[0m
      [38;5;214m[1m> log-collector.ReadingTestResultLogNext(0xc000317380)[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:130[0m
            | stringJSON, err = b.ReadString('\n')
            | if err == io.EOF {
            [1m[38;5;214m> 	time.Sleep(1 * time.Second)[0m
            | 	continue
            | }
      [38;5;214m[1m> log-collector.init.func1.2.5({0xc000424a87?, 0x9?})[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:145[0m
            | It("verify output (run2)", func(ctx SpecContext) {
            | 	var result SystemEventLog
            [1m[38;5;214m> 	stringJSON, err := ReadingTestResultLogNext(reader)[0m
            | 	Expect(err).ToNot(HaveOccurred())
            | 	GinkgoWriter.Println("**** Received stringJSON=", stringJSON)
        [38;5;243mgithub.com/onsi/ginkgo/v2/internal.(*Suite).runNode.func3()[0m
          [38;5;243m/home/ubuntu/go/pkg/mod/github.com/onsi/ginkgo/v2@v2.19.0/internal/suite.go:894[0m
        [38;5;243mgithub.com/onsi/ginkgo/v2/internal.(*Suite).runNode in goroutine 18[0m
          [38;5;243m/home/ubuntu/go/pkg/mod/github.com/onsi/ginkgo/v2@v2.19.0/internal/suite.go:881[0m

      [1m[4mGoroutines of Interest[0m
      [38;5;214mgoroutine 23 [IO wait][0m
        [38;5;243minternal/poll.runtime_pollWait(0x7f8c75030510, 0x72)[0m
          [38;5;243m/usr/local/go/src/runtime/netpoll.go:345[0m
        [38;5;243minternal/poll.(*pollDesc).wait(0xc000025b20, 0x72, 0x0)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:84[0m
        [38;5;243minternal/poll.(*pollDesc).waitRead(...)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:89[0m
        [38;5;243minternal/poll.(*FD).Accept(0xc000025b00)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_unix.go:611[0m
        [38;5;243mnet.(*netFD).accept(0xc000025b00)[0m
          [38;5;243m/usr/local/go/src/net/fd_unix.go:172[0m
        [38;5;243mnet.(*TCPListener).accept(0xc00032c1a0)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock_posix.go:159[0m
        [38;5;243mnet.(*TCPListener).Accept(0xc00032c1a0)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock.go:327[0m
        [38;5;243mcrypto/tls.(*listener).Accept(0xc000013398)[0m
          [38;5;243m/usr/local/go/src/crypto/tls/tls.go:66[0m
        [38;5;243mnet/http.(*Server).Serve(0xc000342000, {0xe4f6f0, 0xc000013398})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3255[0m
        [38;5;243mnet/http.(*Server).ServeTLS(0xc000342000, {0xe4f7b0, 0xc00032c1a0}, {0xd2558e, 0x1a}, {0xd255a8, 0x1a})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3325[0m
        [38;5;243mnet/http.(*Server).ListenAndServeTLS(0xc000342000, {0xd2558e, 0x1a}, {0xd255a8, 0x1a})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3482[0m
        [38;5;243mnet/http.ListenAndServeTLS(...)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3448[0m
      [38;5;214m[1m> log-collector.(*bmcMock).startMock.func1()[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:57[0m
            | 	server.HandleFunc(redfishPath, redfishSel)
            | 	go func() {
            [1m[38;5;214m> 		http.ListenAndServeTLS(b.host, "testdata/ssl/localhost.crt", "testdata/ssl/localhost.key", server)[0m
            | 	}()
            | }
      [38;5;214m[1m> log-collector.(*bmcMock).startMock in goroutine 22[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:56[0m
            | server := http.NewServeMux()
            | server.HandleFunc(redfishPath, redfishSel)
            [1m[38;5;214m> go func() {[0m
            | 	http.ListenAndServeTLS(b.host, "testdata/ssl/localhost.crt", "testdata/ssl/localhost.key", server)
            | }()

      [38;5;214mgoroutine 24 [IO wait][0m
        [38;5;243minternal/poll.runtime_pollWait(0x7f8c75030700, 0x72)[0m
          [38;5;243m/usr/local/go/src/runtime/netpoll.go:345[0m
        [38;5;243minternal/poll.(*pollDesc).wait(0xc00012c520, 0x72, 0x0)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:84[0m
        [38;5;243minternal/poll.(*pollDesc).waitRead(...)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:89[0m
        [38;5;243minternal/poll.(*FD).Accept(0xc00012c500)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_unix.go:611[0m
        [38;5;243mnet.(*netFD).accept(0xc00012c500)[0m
          [38;5;243m/usr/local/go/src/net/fd_unix.go:172[0m
        [38;5;243mnet.(*TCPListener).accept(0xc000104440)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock_posix.go:159[0m
        [38;5;243mnet.(*TCPListener).Accept(0xc000104440)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock.go:327[0m
        [38;5;243mcrypto/tls.(*listener).Accept(0xc000102630)[0m
          [38;5;243m/usr/local/go/src/crypto/tls/tls.go:66[0m
        [38;5;243mnet/http.(*Server).Serve(0xc0003f6000, {0xe4f6f0, 0xc000102630})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3255[0m
        [38;5;243mnet/http.(*Server).ServeTLS(0xc0003f6000, {0xe4f7b0, 0xc000104440}, {0xd2558e, 0x1a}, {0xd255a8, 0x1a})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3325[0m
        [38;5;243mnet/http.(*Server).ListenAndServeTLS(0xc0003f6000, {0xd2558e, 0x1a}, {0xd255a8, 0x1a})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3482[0m
        [38;5;243mnet/http.ListenAndServeTLS(...)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3448[0m
      [38;5;214m[1m> log-collector.(*bmcMock).startMock.func1()[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:57[0m
            | 	server.HandleFunc(redfishPath, redfishSel)
            | 	go func() {
            [1m[38;5;214m> 		http.ListenAndServeTLS(b.host, "testdata/ssl/localhost.crt", "testdata/ssl/localhost.key", server)[0m
            | 	}()
            | }
      [38;5;214m[1m> log-collector.(*bmcMock).startMock in goroutine 22[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:56[0m
            | server := http.NewServeMux()
            | server.HandleFunc(redfishPath, redfishSel)
            [1m[38;5;214m> go func() {[0m
            | 	http.ListenAndServeTLS(b.host, "testdata/ssl/localhost.crt", "testdata/ssl/localhost.key", server)
            | }()

      [38;5;214mgoroutine 25 [IO wait][0m
        [38;5;243minternal/poll.runtime_pollWait(0x7f8c75030608, 0x72)[0m
          [38;5;243m/usr/local/go/src/runtime/netpoll.go:345[0m
        [38;5;243minternal/poll.(*pollDesc).wait(0xc00012c720, 0x72, 0x0)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:84[0m
        [38;5;243minternal/poll.(*pollDesc).waitRead(...)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:89[0m
        [38;5;243minternal/poll.(*FD).Accept(0xc00012c700)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_unix.go:611[0m
        [38;5;243mnet.(*netFD).accept(0xc00012c700)[0m
          [38;5;243m/usr/local/go/src/net/fd_unix.go:172[0m
        [38;5;243mnet.(*TCPListener).accept(0xc000104680)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock_posix.go:159[0m
        [38;5;243mnet.(*TCPListener).Accept(0xc000104680)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock.go:327[0m
        [38;5;243mcrypto/tls.(*listener).Accept(0xc000102780)[0m
          [38;5;243m/usr/local/go/src/crypto/tls/tls.go:66[0m
        [38;5;243mnet/http.(*Server).Serve(0xc0003f60f0, {0xe4f6f0, 0xc000102780})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3255[0m
        [38;5;243mnet/http.(*Server).ServeTLS(0xc0003f60f0, {0xe4f7b0, 0xc000104680}, {0xd2558e, 0x1a}, {0xd255a8, 0x1a})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3325[0m
        [38;5;243mnet/http.(*Server).ListenAndServeTLS(0xc0003f60f0, {0xd2558e, 0x1a}, {0xd255a8, 0x1a})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3482[0m
        [38;5;243mnet/http.ListenAndServeTLS(...)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3448[0m
      [38;5;214m[1m> log-collector.(*bmcMock).startMock.func1()[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:57[0m
            | 	server.HandleFunc(redfishPath, redfishSel)
            | 	go func() {
            [1m[38;5;214m> 		http.ListenAndServeTLS(b.host, "testdata/ssl/localhost.crt", "testdata/ssl/localhost.key", server)[0m
            | 	}()
            | }
      [38;5;214m[1m> log-collector.(*bmcMock).startMock in goroutine 22[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:56[0m
            | server := http.NewServeMux()
            | server.HandleFunc(redfishPath, redfishSel)
            [1m[38;5;214m> go func() {[0m
            | 	http.ListenAndServeTLS(b.host, "testdata/ssl/localhost.crt", "testdata/ssl/localhost.key", server)
            | }()

      [38;5;214mgoroutine 12 [semacquire][0m
        [38;5;243msync.runtime_Semacquire(0xc0001f4ec8?)[0m
          [38;5;243m/usr/local/go/src/runtime/sema.go:62[0m
        [38;5;243msync.(*WaitGroup).Wait(0xc0001f4ec0)[0m
          [38;5;243m/usr/local/go/src/sync/waitgroup.go:116[0m
      [38;5;214m[1m> log-collector.doLogScrapingLoop({{0xd2c4a7, 0x23}, {0xd39641, 0x3d}, {0xd26126, 0x1b}, {0xd1820a, 0x4}, {0xd1820e, 0x4}, ...}, ...)[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/main.go:68[0m
            | 		}()
            | 	}
            [1m[38;5;214m> 	wg.Wait()[0m
            | }
            | 
      [38;5;214m[1m> log-collector.init.func4.2.1.1 in goroutine 11[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/main_test.go:78[0m
            | }
            | func() {
            [1m[38;5;214m> 	go doLogScrapingLoop(lcConfig, logWriter)[0m
            | }()
            | // stop scraper after 30 sec

      [38;5;214mgoroutine 14 [IO wait, 1 minutes][0m
        [38;5;243minternal/poll.runtime_pollWait(0x7f8c75030418, 0x72)[0m
          [38;5;243m/usr/local/go/src/runtime/netpoll.go:345[0m
        [38;5;243minternal/poll.(*pollDesc).wait(0xc000025da0, 0x72, 0x0)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:84[0m
        [38;5;243minternal/poll.(*pollDesc).waitRead(...)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:89[0m
        [38;5;243minternal/poll.(*FD).Accept(0xc000025d80)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_unix.go:611[0m
        [38;5;243mnet.(*netFD).accept(0xc000025d80)[0m
          [38;5;243m/usr/local/go/src/net/fd_unix.go:172[0m
        [38;5;243mnet.(*TCPListener).accept(0xc00032c4a0)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock_posix.go:159[0m
        [38;5;243mnet.(*TCPListener).Accept(0xc00032c4a0)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock.go:327[0m
        [38;5;243mnet/http.(*Server).Serve(0xc0003420f0, {0xe4f7b0, 0xc00032c4a0})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3255[0m
        [38;5;243mnet/http.(*Server).ListenAndServe(0xc0003420f0)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3184[0m
        [38;5;243mnet/http.ListenAndServe(...)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3438[0m
      [38;5;214m[1m> log-collector.metrics({0xd19c66, 0x8}, {0xd186b8, 0x5})[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/metrics.go:40[0m
            | 		},
            | 	))
            [1m[38;5;214m> 	http.ListenAndServe(port, nil)[0m
            | }
            | 
      [38;5;214m[1m> log-collector.doLogScrapingLoop in goroutine 12[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/main.go:44[0m
            | 
            | // Expose metrics via HTTP
            [1m[38;5;214m> go metrics("/metrics", ":8080")[0m
            | 
            | // scraping loop

      [38;5;214mgoroutine 175 [IO wait][0m
        [38;5;243minternal/poll.runtime_pollWait(0x7f8c75030320, 0x72)[0m
          [38;5;243m/usr/local/go/src/runtime/netpoll.go:345[0m
        [38;5;243minternal/poll.(*pollDesc).wait(0xc00012c220, 0x72, 0x0)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:84[0m
        [38;5;243minternal/poll.(*pollDesc).waitRead(...)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:89[0m
        [38;5;243minternal/poll.(*FD).Accept(0xc00012c200)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_unix.go:611[0m
        [38;5;243mnet.(*netFD).accept(0xc00012c200)[0m
          [38;5;243m/usr/local/go/src/net/fd_unix.go:172[0m
        [38;5;243mnet.(*TCPListener).accept(0xc00032c7c0)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock_posix.go:159[0m
        [38;5;243mnet.(*TCPListener).Accept(0xc00032c7c0)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock.go:327[0m
        [38;5;243mcrypto/tls.(*listener).Accept(0xc000012ae0)[0m
          [38;5;243m/usr/local/go/src/crypto/tls/tls.go:66[0m
        [38;5;243mnet/http.(*Server).Serve(0xc0003f63c0, {0xe4f6f0, 0xc000012ae0})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3255[0m
        [38;5;243mnet/http.(*Server).ServeTLS(0xc0003f63c0, {0xe4f7b0, 0xc00032c7c0}, {0xd2558e, 0x1a}, {0xd255a8, 0x1a})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3325[0m
        [38;5;243mnet/http.(*Server).ListenAndServeTLS(0xc0003f63c0, {0xd2558e, 0x1a}, {0xd255a8, 0x1a})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3482[0m
        [38;5;243mnet/http.ListenAndServeTLS(...)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3448[0m
      [38;5;214m[1m> log-collector.(*bmcMock).startMock.func1()[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:57[0m
            | 	server.HandleFunc(redfishPath, redfishSel)
            | 	go func() {
            [1m[38;5;214m> 		http.ListenAndServeTLS(b.host, "testdata/ssl/localhost.crt", "testdata/ssl/localhost.key", server)[0m
            | 	}()
            | }
      [38;5;214m[1m> log-collector.(*bmcMock).startMock in goroutine 174[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:56[0m
            | server := http.NewServeMux()
            | server.HandleFunc(redfishPath, redfishSel)
            [1m[38;5;214m> go func() {[0m
            | 	http.ListenAndServeTLS(b.host, "testdata/ssl/localhost.crt", "testdata/ssl/localhost.key", server)
            | }()

      [38;5;214mgoroutine 305 [select][0m
        [38;5;243mnet/http.(*persistConn).roundTrip(0xc0003b2360, 0xc0003281c0)[0m
          [38;5;243m/usr/local/go/src/net/http/transport.go:2675[0m
        [38;5;243mnet/http.(*Transport).roundTrip(0xc0003303c0, 0xc0003b2240)[0m
          [38;5;243m/usr/local/go/src/net/http/transport.go:608[0m
        [38;5;243mnet/http.(*Transport).RoundTrip(0xc0003303c0, 0xc0003b2240)[0m
          [38;5;243m/usr/local/go/src/net/http/roundtrip.go:17[0m
        [38;5;243mnet/http.send(0xc0003b2120, {0xe4bb20, 0xc0003303c0}, {0x0?, 0x0?, 0x12181e0?})[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:259[0m
        [38;5;243mnet/http.(*Client).send(0xc00034a390, 0xc0003b2120, {0x0?, 0xc0046ff80?, 0x12181e0?})[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:180[0m
        [38;5;243mnet/http.(*Client).do(0xc00034a390, 0xc0003b2120)[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:724[0m
        [38;5;243mnet/http.(*Client).Do(...)[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:590[0m
      [38;5;214m[1m> log-collector.requestToBmc({0xe50308, 0xc000307200}, {0xd1820a, 0x4}, {0xd1820e, 0x4}, 0xc00034a390, {0xc000120480, 0x53})[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/request-to-bmc.go:17[0m
            | req.SetBasicAuth(username, password)
            | req = req.WithContext(ctx)
            [1m[38;5;214m> resp, err := client.Do(req)[0m
            | if err != nil {
            | 	return nil, 0, err
      [38;5;214m[1m> log-collector.(*selCollector).collectSystemEventLog(0xc00007fec0, {0xe50308, 0xc000307200}, {{0xc000425a19, 0x7}, {0xc000425a22, 0xe}, {0xc000425a37, 0x9}}, {0xe4bb40, ...})[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/log-collector.go:70[0m
            | 
            | bmcUrl := "https://" + m.BmcIP + c.rfSelPath
            [1m[38;5;214m> byteJSON, statusCode, err := requestToBmc(ctx, c.username, c.password, c.httpClient, bmcUrl)[0m
            | if statusCode != 200 || err != nil {
            | 	counterRequestFailed.WithLabelValues(fmt.Sprintf("%v", statusCode), m.Serial, m.BmcIP).Inc()
      [38;5;214m[1m> log-collector.doLogScrapingLoop.func1()[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/main.go:64[0m
            | wg.Add(1)
            | go func() {
            [1m[38;5;214m> 	config.collectSystemEventLog(ctx, m, logWriter)[0m
            | 	wg.Done()
            | }()
      [38;5;214m[1m> log-collector.doLogScrapingLoop in goroutine 12[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/main.go:63[0m
            | for _, m := range machinesList {
            | 	wg.Add(1)
            [1m[38;5;214m> 	go func() {[0m
            | 		config.collectSystemEventLog(ctx, m, logWriter)
            | 		wg.Done()

      [38;5;214mgoroutine 314 [sync.Mutex.Lock][0m
        [38;5;243msync.runtime_SemacquireMutex(0xc00029de17?, 0xc9?, 0xc0004036d8?)[0m
          [38;5;243m/usr/local/go/src/runtime/sema.go:77[0m
        [38;5;243msync.(*Mutex).lockSlow(0x127ac70)[0m
          [38;5;243m/usr/local/go/src/sync/mutex.go:171[0m
        [38;5;243msync.(*Mutex).Lock(0x127ac70)[0m
          [38;5;243m/usr/local/go/src/sync/mutex.go:90[0m
      [38;5;214m[1m> log-collector.redfishSel({0xe4f660, 0xc000108700}, 0xc00036aea0)[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:73[0m
            | 
            | // Exclusive lock against other mock server which parallel running
            [1m[38;5;214m> mutex.Lock()[0m
            | defer mutex.Unlock()
            | 
        [38;5;243mnet/http.HandlerFunc.ServeHTTP(0xd629b0, {0xe4f660, 0xc000108700}, 0xc00036aea0)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:2166[0m
        [38;5;243mnet/http.(*ServeMux).ServeHTTP(0xc00011eb60, {0xe4f660, 0xc000108700}, 0xc00036aea0)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:2683[0m
        [38;5;243mnet/http.serverHandler.ServeHTTP({0xc0002a2d80?}, {0xe4f660, 0xc000108700}, 0xc00036aea0)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3137[0m
        [38;5;243mnet/http.(*conn).serve(0xc000347710, {0xe501b8, 0xc00011d020})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:2039[0m
        [38;5;243mnet/http.(*Server).Serve in goroutine 25[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3285[0m

      [38;5;214mgoroutine 313 [sleep][0m
        [38;5;243mtime.Sleep(0xb2d05e00)[0m
          [38;5;243m/usr/local/go/src/runtime/time.go:195[0m
      [38;5;214m[1m> log-collector.redfishSel({0xe4f660, 0xc000108540}, 0xc00036a900)[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:79[0m
            | key := string(r.Host)
            | if accessCounter[key] > (len(responseFiles[key]) - 1) {
            [1m[38;5;214m> 	time.Sleep(3 * time.Second)[0m
            | 	w.Header().Set("Content-Type", "text/plain; charset=utf-8")
            | 	w.WriteHeader(http.StatusNotFound)
        [38;5;243mnet/http.HandlerFunc.ServeHTTP(0xd629b0, {0xe4f660, 0xc000108540}, 0xc00036a900)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:2166[0m
        [38;5;243mnet/http.(*ServeMux).ServeHTTP(0xc00011e8f0, {0xe4f660, 0xc000108540}, 0xc00036a900)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:2683[0m
        [38;5;243mnet/http.serverHandler.ServeHTTP({0xc0002a2ab0?}, {0xe4f660, 0xc000108540}, 0xc00036a900)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3137[0m
        [38;5;243mnet/http.(*conn).serve(0xc000347680, {0xe501b8, 0xc00034a2a0})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:2039[0m
        [38;5;243mnet/http.(*Server).Serve in goroutine 23[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3285[0m

      [38;5;214mgoroutine 312 [sync.Mutex.Lock][0m
        [38;5;243msync.runtime_SemacquireMutex(0xc00029dcd7?, 0xc9?, 0xc00042d6d8?)[0m
          [38;5;243m/usr/local/go/src/runtime/sema.go:77[0m
        [38;5;243msync.(*Mutex).lockSlow(0x127ac70)[0m
          [38;5;243m/usr/local/go/src/sync/mutex.go:171[0m
        [38;5;243msync.(*Mutex).Lock(0x127ac70)[0m
          [38;5;243m/usr/local/go/src/sync/mutex.go:90[0m
      [38;5;214m[1m> log-collector.redfishSel({0xe4f660, 0xc000108620}, 0xc00036aa20)[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:73[0m
            | 
            | // Exclusive lock against other mock server which parallel running
            [1m[38;5;214m> mutex.Lock()[0m
            | defer mutex.Unlock()
            | 
        [38;5;243mnet/http.HandlerFunc.ServeHTTP(0xd629b0, {0xe4f660, 0xc000108620}, 0xc00036aa20)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:2166[0m
        [38;5;243mnet/http.(*ServeMux).ServeHTTP(0xc00011e9c0, {0xe4f660, 0xc000108620}, 0xc00036aa20)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:2683[0m
        [38;5;243mnet/http.serverHandler.ServeHTTP({0xc0002a2c30?}, {0xe4f660, 0xc000108620}, 0xc00036aa20)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3137[0m
        [38;5;243mnet/http.(*conn).serve(0xc0003475f0, {0xe501b8, 0xc00011cae0})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:2039[0m
        [38;5;243mnet/http.(*Server).Serve in goroutine 24[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3285[0m

      [38;5;214mgoroutine 154 [IO wait][0m
        [38;5;243minternal/poll.runtime_pollWait(0x7f8c75030228, 0x72)[0m
          [38;5;243m/usr/local/go/src/runtime/netpoll.go:345[0m
        [38;5;243minternal/poll.(*pollDesc).wait(0xc00012c1a0, 0x72, 0x0)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:84[0m
        [38;5;243minternal/poll.(*pollDesc).waitRead(...)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:89[0m
        [38;5;243minternal/poll.(*FD).Accept(0xc00012c180)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_unix.go:611[0m
        [38;5;243mnet.(*netFD).accept(0xc00012c180)[0m
          [38;5;243m/usr/local/go/src/net/fd_unix.go:172[0m
        [38;5;243mnet.(*TCPListener).accept(0xc00032c040)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock_posix.go:159[0m
        [38;5;243mnet.(*TCPListener).Accept(0xc00032c040)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock.go:327[0m
        [38;5;243mcrypto/tls.(*listener).Accept(0xc000012618)[0m
          [38;5;243m/usr/local/go/src/crypto/tls/tls.go:66[0m
        [38;5;243mnet/http.(*Server).Serve(0xc0003f62d0, {0xe4f6f0, 0xc000012618})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3255[0m
        [38;5;243mnet/http.(*Server).ServeTLS(0xc0003f62d0, {0xe4f7b0, 0xc00032c040}, {0xd2558e, 0x1a}, {0xd255a8, 0x1a})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3325[0m
        [38;5;243mnet/http.(*Server).ListenAndServeTLS(0xc0003f62d0, {0xd2558e, 0x1a}, {0xd255a8, 0x1a})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3482[0m
        [38;5;243mnet/http.ListenAndServeTLS(...)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3448[0m
      [38;5;214m[1m> log-collector.(*bmcMock).startMock.func1()[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:57[0m
            | 	server.HandleFunc(redfishPath, redfishSel)
            | 	go func() {
            [1m[38;5;214m> 		http.ListenAndServeTLS(b.host, "testdata/ssl/localhost.crt", "testdata/ssl/localhost.key", server)[0m
            | 	}()
            | }
      [38;5;214m[1m> log-collector.(*bmcMock).startMock in goroutine 145[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/test_helper.go:56[0m
            | server := http.NewServeMux()
            | server.HandleFunc(redfishPath, redfishSel)
            [1m[38;5;214m> go func() {[0m
            | 	http.ListenAndServeTLS(b.host, "testdata/ssl/localhost.crt", "testdata/ssl/localhost.key", server)
            | }()

      [38;5;214mgoroutine 133 [IO wait][0m
        [38;5;243minternal/poll.runtime_pollWait(0x7f8c7502ff40, 0x72)[0m
          [38;5;243m/usr/local/go/src/runtime/netpoll.go:345[0m
        [38;5;243minternal/poll.(*pollDesc).wait(0xc00012c020, 0x72, 0x0)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:84[0m
        [38;5;243minternal/poll.(*pollDesc).waitRead(...)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:89[0m
        [38;5;243minternal/poll.(*FD).Accept(0xc00012c000)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_unix.go:611[0m
        [38;5;243mnet.(*netFD).accept(0xc00012c000)[0m
          [38;5;243m/usr/local/go/src/net/fd_unix.go:172[0m
        [38;5;243mnet.(*TCPListener).accept(0xc000104320)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock_posix.go:159[0m
        [38;5;243mnet.(*TCPListener).Accept(0xc000104320)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock.go:327[0m
        [38;5;243mnet/http.(*Server).Serve(0xc0003f61e0, {0xe4f7b0, 0xc000104320})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3255[0m
        [38;5;243mnet/http.(*Server).ListenAndServe(0xc0003f61e0)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3184[0m
        [38;5;243mnet/http.ListenAndServe(...)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3438[0m
      [38;5;214m[1m> log-collector.metrics({0xd1cb48, 0xd}, {0xd18ce2, 0x6})[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/metrics.go:40[0m
            | 		},
            | 	))
            [1m[38;5;214m> 	http.ListenAndServe(port, nil)[0m
            | }
            | 
      [38;5;214m[1m> log-collector.init.func5.1.1()[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/metrics_test.go:27[0m
            | BeforeAll(func() {
            | 	go func() {
            [1m[38;5;214m> 		metrics(metricsPath, metricsPort)[0m
            | 	}()
            | })
      [38;5;214m[1m> log-collector.init.func5.1 in goroutine 132[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/metrics_test.go:26[0m
            | var metricsPort = ":28000"
            | BeforeAll(func() {
            [1m[38;5;214m> 	go func() {[0m
            | 		metrics(metricsPath, metricsPort)
            | 	}()

      [38;5;214mgoroutine 206 [IO wait][0m
        [38;5;243minternal/poll.runtime_pollWait(0x7f8c7502fc58, 0x72)[0m
          [38;5;243m/usr/local/go/src/runtime/netpoll.go:345[0m
        [38;5;243minternal/poll.(*pollDesc).wait(0xc00012cba0, 0x72, 0x0)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:84[0m
        [38;5;243minternal/poll.(*pollDesc).waitRead(...)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_poll_runtime.go:89[0m
        [38;5;243minternal/poll.(*FD).Accept(0xc00012cb80)[0m
          [38;5;243m/usr/local/go/src/internal/poll/fd_unix.go:611[0m
        [38;5;243mnet.(*netFD).accept(0xc00012cb80)[0m
          [38;5;243m/usr/local/go/src/net/fd_unix.go:172[0m
        [38;5;243mnet.(*TCPListener).accept(0xc00032cf20)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock_posix.go:159[0m
        [38;5;243mnet.(*TCPListener).Accept(0xc00032cf20)[0m
          [38;5;243m/usr/local/go/src/net/tcpsock.go:327[0m
        [38;5;243mnet/http.(*Server).Serve(0xc0003f64b0, {0xe4f7b0, 0xc00032cf20})[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3255[0m
        [38;5;243mnet/http.(*Server).ListenAndServe(0xc0003f64b0)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3184[0m
        [38;5;243mnet/http.ListenAndServe(...)[0m
          [38;5;243m/usr/local/go/src/net/http/server.go:3438[0m
      [38;5;214m[1m> log-collector.metrics({0xd1cb2e, 0xd}, {0xd18cd0, 0x6})[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/metrics.go:40[0m
            | 		},
            | 	))
            [1m[38;5;214m> 	http.ListenAndServe(port, nil)[0m
            | }
            | 
      [38;5;214m[1m> log-collector.init.func1.1.1()[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:51[0m
            | 	// must start metrics exporter, if not it get SIGSEGV
            | 	go func() {
            [1m[38;5;214m> 		metrics(metricsPath, metricsPort)[0m
            | 	}()
            | })
      [38;5;214m[1m> log-collector.init.func1.1 in goroutine 174[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:50[0m
            | 
            | // must start metrics exporter, if not it get SIGSEGV
            [1m[38;5;214m> go func() {[0m
            | 	metrics(metricsPath, metricsPort)
            | }()

      [38;5;214mgoroutine 304 [select][0m
        [38;5;243mnet/http.(*persistConn).roundTrip(0xc0000e38c0, 0xc0003280c0)[0m
          [38;5;243m/usr/local/go/src/net/http/transport.go:2675[0m
        [38;5;243mnet/http.(*Transport).roundTrip(0xc0003303c0, 0xc0000e37a0)[0m
          [38;5;243m/usr/local/go/src/net/http/transport.go:608[0m
        [38;5;243mnet/http.(*Transport).RoundTrip(0xc0003303c0, 0xc0000e37a0)[0m
          [38;5;243m/usr/local/go/src/net/http/roundtrip.go:17[0m
        [38;5;243mnet/http.send(0xc0000e3680, {0xe4bb20, 0xc0003303c0}, {0x0?, 0x0?, 0x12181e0?})[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:259[0m
        [38;5;243mnet/http.(*Client).send(0xc00034a390, 0xc0000e3680, {0x0?, 0xc00046ff80?, 0x12181e0?})[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:180[0m
        [38;5;243mnet/http.(*Client).do(0xc00034a390, 0xc0000e3680)[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:724[0m
        [38;5;243mnet/http.(*Client).Do(...)[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:590[0m
      [38;5;214m[1m> log-collector.requestToBmc({0xe50308, 0xc000307200}, {0xd1820a, 0x4}, {0xd1820e, 0x4}, 0xc00034a390, {0xc000035da0, 0x53})[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/request-to-bmc.go:17[0m
            | req.SetBasicAuth(username, password)
            | req = req.WithContext(ctx)
            [1m[38;5;214m> resp, err := client.Do(req)[0m
            | if err != nil {
            | 	return nil, 0, err
      [38;5;214m[1m> log-collector.(*selCollector).collectSystemEventLog(0xc00007fec0, {0xe50308, 0xc000307200}, {{0xc0004259e9, 0x7}, {0xc0004259f2, 0xe}, {0xc000425a07, 0x9}}, {0xe4bb40, ...})[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/log-collector.go:70[0m
            | 
            | bmcUrl := "https://" + m.BmcIP + c.rfSelPath
            [1m[38;5;214m> byteJSON, statusCode, err := requestToBmc(ctx, c.username, c.password, c.httpClient, bmcUrl)[0m
            | if statusCode != 200 || err != nil {
            | 	counterRequestFailed.WithLabelValues(fmt.Sprintf("%v", statusCode), m.Serial, m.BmcIP).Inc()
      [38;5;214m[1m> log-collector.doLogScrapingLoop.func1()[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/main.go:64[0m
            | wg.Add(1)
            | go func() {
            [1m[38;5;214m> 	config.collectSystemEventLog(ctx, m, logWriter)[0m
            | 	wg.Done()
            | }()
      [38;5;214m[1m> log-collector.doLogScrapingLoop in goroutine 12[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/main.go:63[0m
            | for _, m := range machinesList {
            | 	wg.Add(1)
            [1m[38;5;214m> 	go func() {[0m
            | 		config.collectSystemEventLog(ctx, m, logWriter)
            | 		wg.Done()

      [38;5;214mgoroutine 303 [select][0m
        [38;5;243mnet/http.(*persistConn).roundTrip(0xc0000e3e60, 0xc000328140)[0m
          [38;5;243m/usr/local/go/src/net/http/transport.go:2675[0m
        [38;5;243mnet/http.(*Transport).roundTrip(0xc0003303c0, 0xc0000e3d40)[0m
          [38;5;243m/usr/local/go/src/net/http/transport.go:608[0m
        [38;5;243mnet/http.(*Transport).RoundTrip(0xc0003303c0, 0xc0000e3d40)[0m
          [38;5;243m/usr/local/go/src/net/http/roundtrip.go:17[0m
        [38;5;243mnet/http.send(0xc0000e3c20, {0xe4bb20, 0xc0003303c0}, {0x0?, 0x0?, 0x12181e0?})[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:259[0m
        [38;5;243mnet/http.(*Client).send(0xc00034a390, 0xc0000e3c20, {0x0?, 0xc00046ff80?, 0x12181e0?})[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:180[0m
        [38;5;243mnet/http.(*Client).do(0xc00034a390, 0xc0000e3c20)[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:724[0m
        [38;5;243mnet/http.(*Client).Do(...)[0m
          [38;5;243m/usr/local/go/src/net/http/client.go:590[0m
      [38;5;214m[1m> log-collector.requestToBmc({0xe50308, 0xc000307200}, {0xd1820a, 0x4}, {0xd1820e, 0x4}, 0xc00034a390, {0xc000120180, 0x53})[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/request-to-bmc.go:17[0m
            | req.SetBasicAuth(username, password)
            | req = req.WithContext(ctx)
            [1m[38;5;214m> resp, err := client.Do(req)[0m
            | if err != nil {
            | 	return nil, 0, err
      [38;5;214m[1m> log-collector.(*selCollector).collectSystemEventLog(0xc00007fec0, {0xe50308, 0xc000307200}, {{0xc0004259b9, 0x7}, {0xc0004259c2, 0xe}, {0xc0004259d7, 0x9}}, {0xe4bb40, ...})[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/log-collector.go:70[0m
            | 
            | bmcUrl := "https://" + m.BmcIP + c.rfSelPath
            [1m[38;5;214m> byteJSON, statusCode, err := requestToBmc(ctx, c.username, c.password, c.httpClient, bmcUrl)[0m
            | if statusCode != 200 || err != nil {
            | 	counterRequestFailed.WithLabelValues(fmt.Sprintf("%v", statusCode), m.Serial, m.BmcIP).Inc()
      [38;5;214m[1m> log-collector.doLogScrapingLoop.func1()[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/main.go:64[0m
            | wg.Add(1)
            | go func() {
            [1m[38;5;214m> 	config.collectSystemEventLog(ctx, m, logWriter)[0m
            | 	wg.Done()
            | }()
      [38;5;214m[1m> log-collector.doLogScrapingLoop in goroutine 12[0m
          [38;5;214m[1m/home/ubuntu/neco-containers/bmc-log-collector/main.go:63[0m
            | for _, m := range machinesList {
            | 	wg.Add(1)
            [1m[38;5;214m> 	go func() {[0m
            | 		config.collectSystemEventLog(ctx, m, logWriter)
            | 		wg.Done()
[38;5;243m------------------------------[0m
[38;5;14mS [SKIPPED] [0.000 seconds][0m
[0mgathering up logs [38;5;243mSEL collector test [38;5;14m[1m[It] collect iDRAC log (run3)[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:159[0m

  [38;5;14m[SKIPPED] Spec skipped because an earlier spec in an ordered container failed[0m
  [38;5;14mIn [1m[It][0m[38;5;14m at: [1m/home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:159[0m [38;5;243m@ 08/21/24 01:57:40.231[0m
[38;5;243m------------------------------[0m
[38;5;14mS [SKIPPED] [0.000 seconds][0m
[0mgathering up logs [38;5;243mSEL collector test [38;5;14m[1m[It] verify output (run3)[0m
[38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:177[0m

  [38;5;14m[SKIPPED] Spec skipped because an earlier spec in an ordered container failed[0m
  [38;5;14mIn [1m[It][0m[38;5;14m at: [1m/home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:177[0m [38;5;243m@ 08/21/24 01:57:40.232[0m
[38;5;243m------------------------------[0m

[38;5;9m[1mSummarizing 2 Failures:[0m
  [38;5;9m[FAIL][0m [0mAccess BMC [38;5;243mAccess iDRAC server to get SEL [38;5;9m[1m[It] Normal access[0m
  [38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/request-to-bmc_test.go:55[0m
  [38;5;214m[TIMEDOUT][0m [0mgathering up logs [38;5;243mSEL collector test [38;5;214m[1m[It] verify output (run2)[0m
  [38;5;243m/home/ubuntu/neco-containers/bmc-log-collector/log-collector_test.go:143[0m

[38;5;9m[1mRan 35 of 41 Specs in 120.126 seconds[0m
[38;5;9m[1mFAIL![0m -- [38;5;10m[1m33 Passed[0m | [38;5;9m[1m2 Failed[0m | [38;5;11m[1m0 Pending[0m | [38;5;14m[1m6 Skipped[0m
--- FAIL: TestBmcLogCollector (120.13s)
FAIL

Ginkgo ran 1 suite in 2m0.706167872s

Test Suite Failed
